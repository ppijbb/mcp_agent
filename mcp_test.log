2025-12-22 09:12:03,840 [INFO] __main__: ÌÖåÏä§Ìä∏ ÏãúÏûë ÏãúÍ∞Ñ: 2025-12-22T09:12:03.840520
2025-12-22 09:12:03,841 [INFO] __main__: üîß sparkleforge ÌôòÍ≤Ω Î≥ÄÏàò ÏÑ§Ï†ï Ï§ë...
2025-12-22 09:12:03,841 [INFO] __main__: ‚úÖ sparkleforge ÌôòÍ≤Ω Î≥ÄÏàò ÏÑ§Ï†ï ÏôÑÎ£å
2025-12-22 09:12:03,841 [INFO] __main__: üîç ÌôòÍ≤Ω Í≤ÄÏ¶ù ÏãúÏûë...
2025-12-22 09:12:03,842 [INFO] __main__: ‚úÖ GOOGLE_API_KEY: AIzaSyCGLufBez5s5KDS...
2025-12-22 09:12:03,842 [INFO] __main__: ‚úÖ SMITHERY_API_KEY: 5094680d-abd1-4b26-b...
2025-12-22 09:12:03,842 [INFO] __main__: ‚úÖ LLM_MODEL: google/gemini-2.5-fl...
2025-12-22 09:12:03,842 [INFO] __main__: ‚úÖ MCP_ENABLED: true...
2025-12-22 09:12:03,842 [INFO] __main__: ‚úÖ MCP ÏÑ§Ï†ï ÌååÏùº Î∞úÍ≤¨: /home/user/workspace/mcp_agent/sparkleforge/configs/mcp_config.json
2025-12-22 09:12:03,842 [INFO] __main__: ‚úÖ ÌôòÍ≤Ω Í≤ÄÏ¶ù ÏôÑÎ£å
2025-12-22 09:12:03,852 [INFO] __main__: ‚úÖ ÏÑ§Ï†ï Î°úÎìú ÏÑ±Í≥µ
2025-12-22 09:12:03,852 [INFO] __main__:    LLM Î™®Îç∏: google/gemini-2.5-flash-lite
2025-12-22 09:12:03,852 [INFO] __main__:    MCP ÌôúÏÑ±Ìôî: True
2025-12-22 09:12:03,879 [INFO] src.core.era_server_manager: Found ERA Agent binary at: /home/user/workspace/mcp_agent/open_researcher/ERA/era-agent/agent
2025-12-22 09:12:03,881 [INFO] src.core.mcp_integration: ERA server manager initialized
2025-12-22 09:12:03,882 [INFO] src.core.mcp_integration: ‚úÖ Loaded tools config from /home/user/workspace/mcp_agent/sparkleforge/configs/tools_config.json
2025-12-22 09:12:03,885 [INFO] src.core.mcp_integration: ‚úÖ Created LangChain tool wrapper for g-search
2025-12-22 09:12:03,885 [INFO] src.core.mcp_integration: ‚úÖ Registered local tool: g-search
2025-12-22 09:12:03,887 [INFO] src.core.mcp_integration: ‚úÖ Created LangChain tool wrapper for fetch
2025-12-22 09:12:03,887 [INFO] src.core.mcp_integration: ‚úÖ Registered local tool: fetch
2025-12-22 09:12:03,888 [INFO] src.core.mcp_integration: ‚úÖ Created LangChain tool wrapper for filesystem
2025-12-22 09:12:03,889 [INFO] src.core.mcp_integration: ‚úÖ Registered local tool: filesystem
2025-12-22 09:12:03,890 [INFO] src.core.mcp_integration: ‚úÖ Created LangChain tool wrapper for python_coder
2025-12-22 09:12:03,890 [INFO] src.core.mcp_integration: ‚úÖ Registered local tool: python_coder
2025-12-22 09:12:03,892 [INFO] src.core.mcp_integration: ‚úÖ Created LangChain tool wrapper for code_interpreter
2025-12-22 09:12:03,892 [INFO] src.core.mcp_integration: ‚úÖ Registered local tool: code_interpreter
2025-12-22 09:12:03,894 [INFO] src.core.mcp_integration: ‚úÖ Created LangChain tool wrapper for arxiv
2025-12-22 09:12:03,895 [INFO] src.core.mcp_integration: ‚úÖ Registered local tool: arxiv
2025-12-22 09:12:03,898 [INFO] src.core.mcp_integration: ‚úÖ Created LangChain tool wrapper for scholar
2025-12-22 09:12:03,898 [INFO] src.core.mcp_integration: ‚úÖ Registered local tool: scholar
2025-12-22 09:12:04,014 [INFO] src.core.mcp_integration: üõ†Ô∏è Registering Native Tool: ddg_search
2025-12-22 09:12:04,014 [INFO] src.core.mcp_integration: ‚úÖ Aliased 'search' to native ddg_search
2025-12-22 09:12:04,014 [INFO] src.core.mcp_integration: ‚úÖ Initialized 8 tools in registry (8 with LangChain wrappers)
2025-12-22 09:12:04,014 [INFO] src.core.mcp_integration: ‚úÖ Merged tools: 8 total tools in registry
2025-12-22 09:12:04,014 [INFO] src.core.mcp_integration: ‚úÖ LLM routed via llm_manager (Gemini direct). OpenRouter disabled.
2025-12-22 09:12:04,015 [INFO] src.core.mcp_integration: [MCP][skip.no-api-key] server=exa (API key not configured)
2025-12-22 09:12:04,015 [INFO] src.core.mcp_integration: ‚úÖ Loaded MCP server configs: ['ddg_search', 'fetch', 'docfork', 'context7-mcp', 'semantic_scholar', 'parallel-search', 'tavily-mcp', 'WebSearch-MCP', 'Google search console', 'Paper Search', 'TodoList', 'arxiv', 'kis MCP']
2025-12-22 09:12:04,015 [INFO] src.core.mcp_integration: üö´ Disabling flaky 'ddg_search' MCP server to use Native Tool fallback
2025-12-22 09:12:04,015 [INFO] src.core.mcp_integration: üö´ Disabling flaky 'tavily-mcp' MCP server
2025-12-22 09:12:04,233 [INFO] src.core.era_server_manager: Starting ERA server: /home/user/workspace/mcp_agent/open_researcher/ERA/era-agent/agent server --addr :8080
2025-12-22 09:12:04,235 [INFO] src.core.mcp_integration: No FastMCP servers configured for auto-discovery
2025-12-22 09:12:05,286 [INFO] httpx: HTTP Request: GET http://localhost:8080/api/vm/list "HTTP/1.1 500 Internal Server Error"
2025-12-22 09:12:06,358 [INFO] httpx: HTTP Request: GET http://localhost:8080/api/vm/list "HTTP/1.1 500 Internal Server Error"
2025-12-22 09:12:07,410 [INFO] httpx: HTTP Request: GET http://localhost:8080/api/vm/list "HTTP/1.1 500 Internal Server Error"
2025-12-22 09:12:08,470 [INFO] httpx: HTTP Request: GET http://localhost:8080/api/vm/list "HTTP/1.1 500 Internal Server Error"
2025-12-22 09:12:09,527 [INFO] httpx: HTTP Request: GET http://localhost:8080/api/vm/list "HTTP/1.1 500 Internal Server Error"
2025-12-22 09:12:10,575 [INFO] httpx: HTTP Request: GET http://localhost:8080/api/vm/list "HTTP/1.1 500 Internal Server Error"
2025-12-22 09:12:11,626 [INFO] httpx: HTTP Request: GET http://localhost:8080/api/vm/list "HTTP/1.1 500 Internal Server Error"
2025-12-22 09:12:12,682 [INFO] httpx: HTTP Request: GET http://localhost:8080/api/vm/list "HTTP/1.1 500 Internal Server Error"
2025-12-22 09:12:13,737 [INFO] httpx: HTTP Request: GET http://localhost:8080/api/vm/list "HTTP/1.1 500 Internal Server Error"
2025-12-22 09:12:14,793 [INFO] httpx: HTTP Request: GET http://localhost:8080/api/vm/list "HTTP/1.1 500 Internal Server Error"
2025-12-22 09:12:15,863 [INFO] httpx: HTTP Request: GET http://localhost:8080/api/vm/list "HTTP/1.1 500 Internal Server Error"
2025-12-22 09:12:16,925 [INFO] httpx: HTTP Request: GET http://localhost:8080/api/vm/list "HTTP/1.1 500 Internal Server Error"
2025-12-22 09:12:17,979 [INFO] httpx: HTTP Request: GET http://localhost:8080/api/vm/list "HTTP/1.1 500 Internal Server Error"
2025-12-22 09:12:19,035 [INFO] httpx: HTTP Request: GET http://localhost:8080/api/vm/list "HTTP/1.1 500 Internal Server Error"
2025-12-22 09:12:20,086 [INFO] httpx: HTTP Request: GET http://localhost:8080/api/vm/list "HTTP/1.1 500 Internal Server Error"
2025-12-22 09:12:21,165 [INFO] httpx: HTTP Request: GET http://localhost:8080/api/vm/list "HTTP/1.1 500 Internal Server Error"
2025-12-22 09:12:22,213 [INFO] httpx: HTTP Request: GET http://localhost:8080/api/vm/list "HTTP/1.1 500 Internal Server Error"
2025-12-22 09:12:23,267 [INFO] httpx: HTTP Request: GET http://localhost:8080/api/vm/list "HTTP/1.1 500 Internal Server Error"
2025-12-22 09:12:24,325 [INFO] httpx: HTTP Request: GET http://localhost:8080/api/vm/list "HTTP/1.1 500 Internal Server Error"
2025-12-22 09:12:25,388 [INFO] httpx: HTTP Request: GET http://localhost:8080/api/vm/list "HTTP/1.1 500 Internal Server Error"
2025-12-22 09:12:26,443 [INFO] httpx: HTTP Request: GET http://localhost:8080/api/vm/list "HTTP/1.1 500 Internal Server Error"
2025-12-22 09:12:27,501 [INFO] httpx: HTTP Request: GET http://localhost:8080/api/vm/list "HTTP/1.1 500 Internal Server Error"
2025-12-22 09:12:28,553 [INFO] httpx: HTTP Request: GET http://localhost:8080/api/vm/list "HTTP/1.1 500 Internal Server Error"
2025-12-22 09:12:29,604 [INFO] httpx: HTTP Request: GET http://localhost:8080/api/vm/list "HTTP/1.1 500 Internal Server Error"
2025-12-22 09:12:30,657 [INFO] httpx: HTTP Request: GET http://localhost:8080/api/vm/list "HTTP/1.1 500 Internal Server Error"
2025-12-22 09:12:31,711 [INFO] httpx: HTTP Request: GET http://localhost:8080/api/vm/list "HTTP/1.1 500 Internal Server Error"
2025-12-22 09:12:32,760 [INFO] httpx: HTTP Request: GET http://localhost:8080/api/vm/list "HTTP/1.1 500 Internal Server Error"
2025-12-22 09:12:33,823 [INFO] httpx: HTTP Request: GET http://localhost:8080/api/vm/list "HTTP/1.1 500 Internal Server Error"
2025-12-22 09:12:34,885 [INFO] httpx: HTTP Request: GET http://localhost:8080/api/vm/list "HTTP/1.1 500 Internal Server Error"
2025-12-22 09:12:35,939 [INFO] httpx: HTTP Request: GET http://localhost:8080/api/vm/list "HTTP/1.1 500 Internal Server Error"
2025-12-22 09:12:35,939 [WARNING] src.core.era_server_manager: ERA server did not respond within 30 seconds
2025-12-22 09:12:35,939 [WARNING] src.core.mcp_integration: ‚ö†Ô∏è ERA server is not available (code execution will use fallback)
2025-12-22 09:12:35,939 [INFO] src.core.mcp_integration: Initializing MCP Hub with MCP servers (no OpenRouter)...
2025-12-22 09:12:35,939 [INFO] src.core.mcp_integration: [MCP][init.batch] Waiting 3.0s for batch initialization before connecting servers...
2025-12-22 09:12:38,941 [INFO] src.core.mcp_integration: [MCP][init] max_concurrency=3, timeout_per_server=60.0s
2025-12-22 09:12:38,942 [INFO] src.core.mcp_integration: [MCP][allowlist] not set; connecting to all enabled servers: ['fetch', 'docfork', 'context7-mcp', 'semantic_scholar', 'parallel-search', 'WebSearch-MCP', 'Google search console', 'Paper Search', 'TodoList', 'arxiv', 'kis MCP']
2025-12-22 09:12:38,942 [INFO] src.core.mcp_integration: Connecting to MCP server fetch (timeout: 60.0s, attempt 1/3)...
2025-12-22 09:12:38,942 [INFO] src.core.mcp_integration: [MCP][connect.start] server=fetch type=http url=https://server.smithery.ai/@smithery-ai/fetch/mcp timeout=60.0
2025-12-22 09:12:38,944 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=fetch url=https://server.smithery.ai/@smithery-ai/fetch/mcp headers=['Authorization']
2025-12-22 09:12:38,961 [INFO] src.core.mcp_integration: Connecting to MCP server docfork (timeout: 60.0s, attempt 1/3)...
2025-12-22 09:12:38,961 [INFO] src.core.mcp_integration: [MCP][connect.start] server=docfork type=http url=https://server.smithery.ai/@docfork/mcp/mcp timeout=60.0
2025-12-22 09:12:38,961 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=docfork url=https://server.smithery.ai/@docfork/mcp/mcp headers=['Authorization']
2025-12-22 09:12:38,961 [INFO] src.core.mcp_integration: Connecting to MCP server context7-mcp (timeout: 60.0s, attempt 1/3)...
2025-12-22 09:12:38,961 [INFO] src.core.mcp_integration: [MCP][connect.start] server=context7-mcp type=http url=https://server.smithery.ai/@upstash/context7-mcp/mcp timeout=60.0
2025-12-22 09:12:38,962 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=context7-mcp url=https://server.smithery.ai/@upstash/context7-mcp/mcp headers=['Authorization']
2025-12-22 09:12:39,476 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@docfork/mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:12:39,477 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@smithery-ai/fetch/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:12:39,478 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=docfork err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@docfork/mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:39,478 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=docfork full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@docfork/mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:39,484 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=docfork connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:12:39,484 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=fetch err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@smithery-ai/fetch/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:39,484 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=fetch full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@smithery-ai/fetch/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:39,485 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=fetch connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:12:39,488 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@upstash/context7-mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:12:39,488 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=context7-mcp err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@upstash/context7-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:39,489 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=context7-mcp full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@upstash/context7-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:39,489 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=context7-mcp connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:12:40,485 [INFO] src.core.mcp_integration: Connecting to MCP server docfork (timeout: 60.0s, attempt 2/3)...
2025-12-22 09:12:40,486 [INFO] src.core.mcp_integration: [MCP][connect.start] server=docfork type=http url=https://server.smithery.ai/@docfork/mcp/mcp timeout=60.0
2025-12-22 09:12:40,486 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=docfork url=https://server.smithery.ai/@docfork/mcp/mcp headers=['Authorization']
2025-12-22 09:12:40,487 [INFO] src.core.mcp_integration: Connecting to MCP server fetch (timeout: 60.0s, attempt 2/3)...
2025-12-22 09:12:40,487 [INFO] src.core.mcp_integration: [MCP][connect.start] server=fetch type=http url=https://server.smithery.ai/@smithery-ai/fetch/mcp timeout=60.0
2025-12-22 09:12:40,487 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=fetch url=https://server.smithery.ai/@smithery-ai/fetch/mcp headers=['Authorization']
2025-12-22 09:12:40,525 [INFO] src.core.mcp_integration: Connecting to MCP server context7-mcp (timeout: 60.0s, attempt 2/3)...
2025-12-22 09:12:40,525 [INFO] src.core.mcp_integration: [MCP][connect.start] server=context7-mcp type=http url=https://server.smithery.ai/@upstash/context7-mcp/mcp timeout=60.0
2025-12-22 09:12:40,525 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=context7-mcp url=https://server.smithery.ai/@upstash/context7-mcp/mcp headers=['Authorization']
2025-12-22 09:12:40,986 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@docfork/mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:12:40,987 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=docfork err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@docfork/mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:40,988 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=docfork full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@docfork/mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:40,988 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=docfork connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:12:40,992 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@upstash/context7-mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:12:40,993 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=context7-mcp err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@upstash/context7-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:40,993 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=context7-mcp full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@upstash/context7-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:40,994 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=context7-mcp connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:12:41,002 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@smithery-ai/fetch/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:12:41,002 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=fetch err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@smithery-ai/fetch/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:41,002 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=fetch full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@smithery-ai/fetch/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:41,003 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=fetch connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:12:42,992 [INFO] src.core.mcp_integration: Connecting to MCP server docfork (timeout: 60.0s, attempt 3/3)...
2025-12-22 09:12:42,992 [INFO] src.core.mcp_integration: [MCP][connect.start] server=docfork type=http url=https://server.smithery.ai/@docfork/mcp/mcp timeout=60.0
2025-12-22 09:12:42,992 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=docfork url=https://server.smithery.ai/@docfork/mcp/mcp headers=['Authorization']
2025-12-22 09:12:43,011 [INFO] src.core.mcp_integration: Connecting to MCP server context7-mcp (timeout: 60.0s, attempt 3/3)...
2025-12-22 09:12:43,011 [INFO] src.core.mcp_integration: [MCP][connect.start] server=context7-mcp type=http url=https://server.smithery.ai/@upstash/context7-mcp/mcp timeout=60.0
2025-12-22 09:12:43,011 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=context7-mcp url=https://server.smithery.ai/@upstash/context7-mcp/mcp headers=['Authorization']
2025-12-22 09:12:43,011 [INFO] src.core.mcp_integration: Connecting to MCP server fetch (timeout: 60.0s, attempt 3/3)...
2025-12-22 09:12:43,011 [INFO] src.core.mcp_integration: [MCP][connect.start] server=fetch type=http url=https://server.smithery.ai/@smithery-ai/fetch/mcp timeout=60.0
2025-12-22 09:12:43,012 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=fetch url=https://server.smithery.ai/@smithery-ai/fetch/mcp headers=['Authorization']
2025-12-22 09:12:43,489 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@smithery-ai/fetch/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:12:43,490 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@upstash/context7-mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:12:43,490 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=fetch err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@smithery-ai/fetch/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:43,490 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=fetch full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@smithery-ai/fetch/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:43,491 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=fetch failed after 3 attempts
2025-12-22 09:12:43,491 [INFO] src.core.mcp_integration: Connecting to MCP server semantic_scholar (timeout: 20.0s, attempt 1/3)...
2025-12-22 09:12:43,491 [INFO] src.core.mcp_integration: [MCP][connect.start] server=semantic_scholar type=http url=https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp timeout=20.0
2025-12-22 09:12:43,491 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=semantic_scholar url=https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp headers=['Authorization']
2025-12-22 09:12:43,510 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@docfork/mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:12:43,511 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=context7-mcp err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@upstash/context7-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:43,511 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=context7-mcp full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@upstash/context7-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:43,512 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=context7-mcp failed after 3 attempts
2025-12-22 09:12:43,512 [INFO] src.core.mcp_integration: Connecting to MCP server parallel-search (timeout: 60.0s, attempt 1/3)...
2025-12-22 09:12:43,512 [INFO] src.core.mcp_integration: [MCP][connect.start] server=parallel-search type=http url=https://server.smithery.ai/@parallel/search/mcp timeout=60.0
2025-12-22 09:12:43,513 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=parallel-search url=https://server.smithery.ai/@parallel/search/mcp headers=['Authorization']
2025-12-22 09:12:43,534 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=docfork err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@docfork/mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:43,534 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=docfork full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@docfork/mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:43,535 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=docfork failed after 3 attempts
2025-12-22 09:12:43,535 [INFO] src.core.mcp_integration: Connecting to MCP server WebSearch-MCP (timeout: 60.0s, attempt 1/3)...
2025-12-22 09:12:43,535 [INFO] src.core.mcp_integration: [MCP][connect.start] server=WebSearch-MCP type=http url=https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp timeout=60.0
2025-12-22 09:12:43,535 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=WebSearch-MCP url=https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp headers=['Authorization']
2025-12-22 09:12:43,996 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:12:43,997 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=semantic_scholar err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:43,997 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=semantic_scholar full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:43,998 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=semantic_scholar connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:12:44,073 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@parallel/search/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:12:44,074 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=parallel-search err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@parallel/search/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:44,074 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=parallel-search full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@parallel/search/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:44,075 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=parallel-search connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:12:44,093 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:12:44,094 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=WebSearch-MCP err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:44,094 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=WebSearch-MCP full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:44,095 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=WebSearch-MCP connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:12:44,999 [INFO] src.core.mcp_integration: Connecting to MCP server semantic_scholar (timeout: 20.0s, attempt 2/3)...
2025-12-22 09:12:45,000 [INFO] src.core.mcp_integration: [MCP][connect.start] server=semantic_scholar type=http url=https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp timeout=20.0
2025-12-22 09:12:45,000 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=semantic_scholar url=https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp headers=['Authorization']
2025-12-22 09:12:45,075 [INFO] src.core.mcp_integration: Connecting to MCP server parallel-search (timeout: 60.0s, attempt 2/3)...
2025-12-22 09:12:45,076 [INFO] src.core.mcp_integration: [MCP][connect.start] server=parallel-search type=http url=https://server.smithery.ai/@parallel/search/mcp timeout=60.0
2025-12-22 09:12:45,076 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=parallel-search url=https://server.smithery.ai/@parallel/search/mcp headers=['Authorization']
2025-12-22 09:12:45,095 [INFO] src.core.mcp_integration: Connecting to MCP server WebSearch-MCP (timeout: 60.0s, attempt 2/3)...
2025-12-22 09:12:45,095 [INFO] src.core.mcp_integration: [MCP][connect.start] server=WebSearch-MCP type=http url=https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp timeout=60.0
2025-12-22 09:12:45,096 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=WebSearch-MCP url=https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp headers=['Authorization']
2025-12-22 09:12:45,498 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:12:45,499 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=semantic_scholar err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:45,499 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=semantic_scholar full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:45,500 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=semantic_scholar connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:12:45,563 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@parallel/search/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:12:45,564 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=parallel-search err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@parallel/search/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:45,564 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=parallel-search full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@parallel/search/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:45,565 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=parallel-search connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:12:45,576 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:12:45,577 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=WebSearch-MCP err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:45,577 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=WebSearch-MCP full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:45,578 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=WebSearch-MCP connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:12:47,503 [INFO] src.core.mcp_integration: Connecting to MCP server semantic_scholar (timeout: 20.0s, attempt 3/3)...
2025-12-22 09:12:47,504 [INFO] src.core.mcp_integration: [MCP][connect.start] server=semantic_scholar type=http url=https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp timeout=20.0
2025-12-22 09:12:47,504 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=semantic_scholar url=https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp headers=['Authorization']
2025-12-22 09:12:47,567 [INFO] src.core.mcp_integration: Connecting to MCP server parallel-search (timeout: 60.0s, attempt 3/3)...
2025-12-22 09:12:47,567 [INFO] src.core.mcp_integration: [MCP][connect.start] server=parallel-search type=http url=https://server.smithery.ai/@parallel/search/mcp timeout=60.0
2025-12-22 09:12:47,568 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=parallel-search url=https://server.smithery.ai/@parallel/search/mcp headers=['Authorization']
2025-12-22 09:12:47,594 [INFO] src.core.mcp_integration: Connecting to MCP server WebSearch-MCP (timeout: 60.0s, attempt 3/3)...
2025-12-22 09:12:47,594 [INFO] src.core.mcp_integration: [MCP][connect.start] server=WebSearch-MCP type=http url=https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp timeout=60.0
2025-12-22 09:12:47,595 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=WebSearch-MCP url=https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp headers=['Authorization']
2025-12-22 09:12:47,979 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:12:47,980 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=semantic_scholar err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:47,980 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=semantic_scholar full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:47,981 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=semantic_scholar failed after 3 attempts
2025-12-22 09:12:47,981 [INFO] src.core.mcp_integration: Connecting to MCP server Google search console (timeout: 30.0s, attempt 1/3)...
2025-12-22 09:12:47,981 [INFO] src.core.mcp_integration: [MCP][connect.start] server=Google search console type=http url=https://server.smithery.ai/google_search_console/mcp timeout=30.0
2025-12-22 09:12:47,981 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=Google search console url=https://server.smithery.ai/google_search_console/mcp headers=['Authorization']
2025-12-22 09:12:48,035 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@parallel/search/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:12:48,036 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=parallel-search err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@parallel/search/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:48,036 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=parallel-search full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@parallel/search/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:48,037 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=parallel-search failed after 3 attempts
2025-12-22 09:12:48,037 [INFO] src.core.mcp_integration: Connecting to MCP server Paper Search (timeout: 30.0s, attempt 1/3)...
2025-12-22 09:12:48,037 [INFO] src.core.mcp_integration: [MCP][connect.start] server=Paper Search type=http url=https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp timeout=30.0
2025-12-22 09:12:48,037 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=Paper Search url=https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp headers=['Authorization']
2025-12-22 09:12:48,067 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:12:48,068 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=WebSearch-MCP err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:48,068 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=WebSearch-MCP full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:48,069 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=WebSearch-MCP failed after 3 attempts
2025-12-22 09:12:48,069 [INFO] src.core.mcp_integration: Connecting to MCP server TodoList (timeout: 30.0s, attempt 1/3)...
2025-12-22 09:12:48,069 [INFO] src.core.mcp_integration: [MCP][connect.start] server=TodoList type=http url=https://server.smithery.ai/todoist/mcp timeout=30.0
2025-12-22 09:12:48,069 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=TodoList url=https://server.smithery.ai/todoist/mcp headers=['Authorization']
2025-12-22 09:12:48,493 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/google_search_console/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:12:48,494 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Google search console err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/google_search_console/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:48,494 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Google search console full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/google_search_console/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:48,495 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=Google search console connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:12:48,539 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/todoist/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:12:48,540 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=TodoList err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/todoist/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:48,540 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=TodoList full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/todoist/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:48,541 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=TodoList connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:12:48,556 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:12:48,556 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Paper Search err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:48,557 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Paper Search full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:48,557 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=Paper Search connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:12:49,497 [INFO] src.core.mcp_integration: Connecting to MCP server Google search console (timeout: 30.0s, attempt 2/3)...
2025-12-22 09:12:49,497 [INFO] src.core.mcp_integration: [MCP][connect.start] server=Google search console type=http url=https://server.smithery.ai/google_search_console/mcp timeout=30.0
2025-12-22 09:12:49,497 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=Google search console url=https://server.smithery.ai/google_search_console/mcp headers=['Authorization']
2025-12-22 09:12:49,542 [INFO] src.core.mcp_integration: Connecting to MCP server TodoList (timeout: 30.0s, attempt 2/3)...
2025-12-22 09:12:49,542 [INFO] src.core.mcp_integration: [MCP][connect.start] server=TodoList type=http url=https://server.smithery.ai/todoist/mcp timeout=30.0
2025-12-22 09:12:49,542 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=TodoList url=https://server.smithery.ai/todoist/mcp headers=['Authorization']
2025-12-22 09:12:49,562 [INFO] src.core.mcp_integration: Connecting to MCP server Paper Search (timeout: 30.0s, attempt 2/3)...
2025-12-22 09:12:49,562 [INFO] src.core.mcp_integration: [MCP][connect.start] server=Paper Search type=http url=https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp timeout=30.0
2025-12-22 09:12:49,562 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=Paper Search url=https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp headers=['Authorization']
2025-12-22 09:12:49,963 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/google_search_console/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:12:49,966 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Google search console err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/google_search_console/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:49,966 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Google search console full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/google_search_console/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:49,969 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=Google search console connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:12:50,005 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/todoist/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:12:50,006 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=TodoList err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/todoist/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:50,006 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=TodoList full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/todoist/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:50,007 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=TodoList connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:12:50,032 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:12:50,033 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Paper Search err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:50,033 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Paper Search full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:50,034 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=Paper Search connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:12:51,971 [INFO] src.core.mcp_integration: Connecting to MCP server Google search console (timeout: 30.0s, attempt 3/3)...
2025-12-22 09:12:51,972 [INFO] src.core.mcp_integration: [MCP][connect.start] server=Google search console type=http url=https://server.smithery.ai/google_search_console/mcp timeout=30.0
2025-12-22 09:12:51,972 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=Google search console url=https://server.smithery.ai/google_search_console/mcp headers=['Authorization']
2025-12-22 09:12:52,007 [INFO] src.core.mcp_integration: Connecting to MCP server TodoList (timeout: 30.0s, attempt 3/3)...
2025-12-22 09:12:52,008 [INFO] src.core.mcp_integration: [MCP][connect.start] server=TodoList type=http url=https://server.smithery.ai/todoist/mcp timeout=30.0
2025-12-22 09:12:52,008 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=TodoList url=https://server.smithery.ai/todoist/mcp headers=['Authorization']
2025-12-22 09:12:52,035 [INFO] src.core.mcp_integration: Connecting to MCP server Paper Search (timeout: 30.0s, attempt 3/3)...
2025-12-22 09:12:52,035 [INFO] src.core.mcp_integration: [MCP][connect.start] server=Paper Search type=http url=https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp timeout=30.0
2025-12-22 09:12:52,035 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=Paper Search url=https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp headers=['Authorization']
2025-12-22 09:12:52,422 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/google_search_console/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:12:52,424 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Google search console err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/google_search_console/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:52,424 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Google search console full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/google_search_console/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:52,425 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=Google search console failed after 3 attempts
2025-12-22 09:12:52,425 [INFO] src.core.mcp_integration: Connecting to MCP server arxiv (timeout: 60.0s, attempt 1/3)...
2025-12-22 09:12:52,425 [INFO] src.core.mcp_integration: [MCP][connect.start] server=arxiv type=stdio url=None timeout=60.0
2025-12-22 09:12:52,425 [INFO] src.core.mcp_integration: [MCP][stdio.connect] server=arxiv command=npx args=['-y', '@modelcontextprotocol/server-arxiv@latest']
2025-12-22 09:12:52,464 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/todoist/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:12:52,466 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=TodoList err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/todoist/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:52,466 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=TodoList full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/todoist/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:52,466 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=TodoList failed after 3 attempts
2025-12-22 09:12:52,467 [INFO] src.core.mcp_integration: Connecting to MCP server kis MCP (timeout: 30.0s, attempt 1/3)...
2025-12-22 09:12:52,467 [INFO] src.core.mcp_integration: [MCP][connect.start] server=kis MCP type=http url=https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp timeout=30.0
2025-12-22 09:12:52,467 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=kis MCP url=https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp headers=['Authorization']
2025-12-22 09:12:52,494 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:12:52,496 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Paper Search err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:52,496 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Paper Search full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:52,497 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=Paper Search failed after 3 attempts
2025-12-22 09:12:52,926 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:12:52,926 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=kis MCP err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:52,926 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=kis MCP full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:52,927 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=kis MCP connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:12:53,427 [ERROR] src.core.mcp_integration: [MCP][stdio.connect] Failed to connect to arxiv: Client failed to connect: Connection closed
  + Exception Group Traceback (most recent call last):
  |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 63, in handle_exception
  |     raise matched
  | ExceptionGroup:  (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    |     await stack.enter_async_context(self._context_manager())
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    |     result = await _enter(cm)
    |              ^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    |     return await anext(self.gen)
    |            ^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    |     result = handler(matched)
    |              ^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    |     raise leaf
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 362, in _context_manager
    |     await self._session_state.session.initialize()
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/session.py", line 152, in initialize
    |     result = await self.send_request(
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/shared/session.py", line 288, in send_request
    |     raise McpError(response_or_error.error)
    | mcp.shared.exceptions.McpError: Connection closed
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 362, in _context_manager
    await self._session_state.session.initialize()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/session.py", line 152, in initialize
    result = await self.send_request(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/shared/session.py", line 288, in send_request
    raise McpError(response_or_error.error)
mcp.shared.exceptions.McpError: Connection closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1065, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 419, in _connect
    raise RuntimeError(
RuntimeError: Client failed to connect: Connection closed
2025-12-22 09:12:53,431 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=arxiv connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:12:53,929 [INFO] src.core.mcp_integration: Connecting to MCP server kis MCP (timeout: 30.0s, attempt 2/3)...
2025-12-22 09:12:53,929 [INFO] src.core.mcp_integration: [MCP][connect.start] server=kis MCP type=http url=https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp timeout=30.0
2025-12-22 09:12:53,929 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=kis MCP url=https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp headers=['Authorization']
2025-12-22 09:12:54,432 [INFO] src.core.mcp_integration: Connecting to MCP server arxiv (timeout: 60.0s, attempt 2/3)...
2025-12-22 09:12:54,432 [INFO] src.core.mcp_integration: [MCP][connect.start] server=arxiv type=stdio url=None timeout=60.0
2025-12-22 09:12:54,432 [INFO] src.core.mcp_integration: [MCP][stdio.connect] server=arxiv command=npx args=['-y', '@modelcontextprotocol/server-arxiv@latest']
2025-12-22 09:12:54,586 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:12:54,587 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=kis MCP err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:54,587 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=kis MCP full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:54,588 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=kis MCP connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:12:54,960 [ERROR] src.core.mcp_integration: [MCP][stdio.connect] Failed to connect to arxiv: Client failed to connect: Connection closed
  + Exception Group Traceback (most recent call last):
  |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 63, in handle_exception
  |     raise matched
  | ExceptionGroup:  (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    |     await stack.enter_async_context(self._context_manager())
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    |     result = await _enter(cm)
    |              ^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    |     return await anext(self.gen)
    |            ^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    |     result = handler(matched)
    |              ^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    |     raise leaf
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 362, in _context_manager
    |     await self._session_state.session.initialize()
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/session.py", line 152, in initialize
    |     result = await self.send_request(
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/shared/session.py", line 288, in send_request
    |     raise McpError(response_or_error.error)
    | mcp.shared.exceptions.McpError: Connection closed
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 362, in _context_manager
    await self._session_state.session.initialize()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/session.py", line 152, in initialize
    result = await self.send_request(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/shared/session.py", line 288, in send_request
    raise McpError(response_or_error.error)
mcp.shared.exceptions.McpError: Connection closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1065, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 419, in _connect
    raise RuntimeError(
RuntimeError: Client failed to connect: Connection closed
2025-12-22 09:12:54,961 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=arxiv connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:12:56,590 [INFO] src.core.mcp_integration: Connecting to MCP server kis MCP (timeout: 30.0s, attempt 3/3)...
2025-12-22 09:12:56,590 [INFO] src.core.mcp_integration: [MCP][connect.start] server=kis MCP type=http url=https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp timeout=30.0
2025-12-22 09:12:56,590 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=kis MCP url=https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp headers=['Authorization']
2025-12-22 09:12:56,962 [INFO] src.core.mcp_integration: Connecting to MCP server arxiv (timeout: 60.0s, attempt 3/3)...
2025-12-22 09:12:56,962 [INFO] src.core.mcp_integration: [MCP][connect.start] server=arxiv type=stdio url=None timeout=60.0
2025-12-22 09:12:56,962 [INFO] src.core.mcp_integration: [MCP][stdio.connect] server=arxiv command=npx args=['-y', '@modelcontextprotocol/server-arxiv@latest']
2025-12-22 09:12:57,046 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:12:57,047 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=kis MCP err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:57,047 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=kis MCP full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:57,048 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=kis MCP failed after 3 attempts
2025-12-22 09:12:57,402 [ERROR] src.core.mcp_integration: [MCP][stdio.connect] Failed to connect to arxiv: Client failed to connect: Connection closed
  + Exception Group Traceback (most recent call last):
  |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 63, in handle_exception
  |     raise matched
  | ExceptionGroup:  (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    |     await stack.enter_async_context(self._context_manager())
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    |     result = await _enter(cm)
    |              ^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    |     return await anext(self.gen)
    |            ^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    |     result = handler(matched)
    |              ^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    |     raise leaf
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 362, in _context_manager
    |     await self._session_state.session.initialize()
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/session.py", line 152, in initialize
    |     result = await self.send_request(
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/shared/session.py", line 288, in send_request
    |     raise McpError(response_or_error.error)
    | mcp.shared.exceptions.McpError: Connection closed
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 362, in _context_manager
    await self._session_state.session.initialize()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/session.py", line 152, in initialize
    result = await self.send_request(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/shared/session.py", line 288, in send_request
    raise McpError(response_or_error.error)
mcp.shared.exceptions.McpError: Connection closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1065, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 419, in _connect
    raise RuntimeError(
RuntimeError: Client failed to connect: Connection closed
2025-12-22 09:12:57,404 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=arxiv failed after 3 attempts
2025-12-22 09:12:57,404 [WARNING] src.core.mcp_integration: ‚ö†Ô∏è No MCP servers connected successfully
2025-12-22 09:12:57,404 [INFO] src.core.mcp_integration: ‚úÖ MCP Hub initialized (OpenRouter disabled)
2025-12-22 09:12:57,404 [INFO] src.core.mcp_integration: Available tools: 9
2025-12-22 09:12:57,404 [INFO] src.core.mcp_integration: MCP servers: []
2025-12-22 09:12:57,404 [INFO] src.core.mcp_integration: Primary model: google/gemini-2.5-flash-lite
2025-12-22 09:12:57,404 [INFO] src.core.mcp_integration: [MCP][diagnostics] server connection summary
2025-12-22 09:12:57,404 [INFO] src.core.mcp_integration: [MCP][diag] server=fetch type=http url=https://server.smithery.ai/@smithery-ai/fetch/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/@smithery-ai/fetch/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:57,404 [INFO] src.core.mcp_integration: [MCP][diag] server=docfork type=http url=https://server.smithery.ai/@docfork/mcp/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/@docfork/mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:57,404 [INFO] src.core.mcp_integration: [MCP][diag] server=context7-mcp type=http url=https://server.smithery.ai/@upstash/context7-mcp/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/@upstash/context7-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:57,404 [INFO] src.core.mcp_integration: [MCP][diag] server=semantic_scholar type=http url=https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:57,404 [INFO] src.core.mcp_integration: [MCP][diag] server=parallel-search type=http url=https://server.smithery.ai/@parallel/search/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/@parallel/search/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:57,404 [INFO] src.core.mcp_integration: [MCP][diag] server=WebSearch-MCP type=http url=https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:57,404 [INFO] src.core.mcp_integration: [MCP][diag] server=Google search console type=http url=https://server.smithery.ai/google_search_console/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/google_search_console/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:57,404 [INFO] src.core.mcp_integration: [MCP][diag] server=Paper Search type=http url=https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:57,404 [INFO] src.core.mcp_integration: [MCP][diag] server=TodoList type=http url=https://server.smithery.ai/todoist/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/todoist/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:57,404 [INFO] src.core.mcp_integration: [MCP][diag] server=arxiv type=stdio url=None stage=failed ok=False init_ms=- list_ms=- err=Client failed to connect: Connection closed
2025-12-22 09:12:57,405 [INFO] src.core.mcp_integration: [MCP][diag] server=kis MCP type=http url=https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:12:57,405 [INFO] src.core.mcp_integration: Validating essential tools availability...
2025-12-22 09:12:57,405 [INFO] src.core.mcp_integration: Registered tools: ['g-search', 'fetch', 'filesystem', 'python_coder', 'code_interpreter', 'arxiv', 'scholar', 'ddg_search']
2025-12-22 09:12:57,405 [INFO] src.core.mcp_integration: ‚úÖ Found essential tool: g-search
2025-12-22 09:12:57,405 [INFO] src.core.mcp_integration: ‚úÖ Found essential tool: fetch
2025-12-22 09:12:57,405 [INFO] src.core.mcp_integration: ‚úÖ Found essential tool: filesystem
2025-12-22 09:12:57,405 [INFO] src.core.mcp_integration: ‚úÖ All essential tools found in registry
2025-12-22 09:12:57,405 [INFO] __main__: ‚úÖ MCP Hub Ï¥àÍ∏∞Ìôî ÏôÑÎ£å
2025-12-22 09:12:57,405 [INFO] __main__:    Ïó∞Í≤∞Îêú ÏÑúÎ≤Ñ Ïàò: 0
2025-12-22 09:12:57,405 [INFO] __main__:    Ï¥ù ÏÇ¨Ïö© Í∞ÄÎä•Ìïú ÎèÑÍµ¨: 0Í∞ú
2025-12-22 09:12:57,405 [INFO] __main__: Ïπ¥ÌÖåÍ≥†Î¶¨ 'search' ÌÖåÏä§Ìä∏ ÏãúÏûë - 3Í∞ú ÎèÑÍµ¨
2025-12-22 09:12:57,405 [INFO] __main__: üß™ [search] g-search ÌÖåÏä§Ìä∏ ÏãúÏûë
2025-12-22 09:12:57,405 [INFO] __main__:    ÌååÎùºÎØ∏ÌÑ∞: {
  "query": "Python programming language",
  "max_results": 3
}
2025-12-22 09:12:57,409 [INFO] src.core.result_cache: ResultCache initialized: default_ttl=3600s, max_size=1000
2025-12-22 09:12:57,409 [INFO] src.core.mcp_integration: [MCP][execute_tool] MCP Hub not initialized, initializing...
2025-12-22 09:12:57,465 [INFO] httpx: HTTP Request: GET http://localhost:8080/api/vm/list "HTTP/1.1 500 Internal Server Error"
2025-12-22 09:12:57,522 [INFO] httpx: HTTP Request: GET http://localhost:8080/api/vm/list "HTTP/1.1 500 Internal Server Error"
2025-12-22 09:12:57,522 [WARNING] src.core.era_server_manager: Port 8080 is already in use. Assuming ERA server is running externally.
2025-12-22 09:12:57,522 [INFO] src.core.mcp_integration: ‚úÖ ERA server is running (safe code execution enabled)
2025-12-22 09:12:57,523 [INFO] src.core.mcp_integration: Initializing MCP Hub with MCP servers (no OpenRouter)...
2025-12-22 09:12:57,523 [INFO] src.core.mcp_integration: [MCP][init.batch] Waiting 3.0s for batch initialization before connecting servers...
2025-12-22 09:13:00,526 [INFO] src.core.mcp_integration: [MCP][init] max_concurrency=3, timeout_per_server=60.0s
2025-12-22 09:13:00,526 [INFO] src.core.mcp_integration: [MCP][allowlist] not set; connecting to all enabled servers: ['fetch', 'docfork', 'context7-mcp', 'semantic_scholar', 'parallel-search', 'WebSearch-MCP', 'Google search console', 'Paper Search', 'TodoList', 'arxiv', 'kis MCP']
2025-12-22 09:13:00,526 [INFO] src.core.mcp_integration: Connecting to MCP server fetch (timeout: 60.0s, attempt 1/3)...
2025-12-22 09:13:00,527 [INFO] src.core.mcp_integration: [MCP][connect.start] server=fetch type=http url=https://server.smithery.ai/@smithery-ai/fetch/mcp timeout=60.0
2025-12-22 09:13:00,527 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=fetch url=https://server.smithery.ai/@smithery-ai/fetch/mcp headers=['Authorization']
2025-12-22 09:13:00,527 [INFO] src.core.mcp_integration: Connecting to MCP server docfork (timeout: 60.0s, attempt 1/3)...
2025-12-22 09:13:00,527 [INFO] src.core.mcp_integration: [MCP][connect.start] server=docfork type=http url=https://server.smithery.ai/@docfork/mcp/mcp timeout=60.0
2025-12-22 09:13:00,527 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=docfork url=https://server.smithery.ai/@docfork/mcp/mcp headers=['Authorization']
2025-12-22 09:13:00,528 [INFO] src.core.mcp_integration: Connecting to MCP server context7-mcp (timeout: 60.0s, attempt 1/3)...
2025-12-22 09:13:00,528 [INFO] src.core.mcp_integration: [MCP][connect.start] server=context7-mcp type=http url=https://server.smithery.ai/@upstash/context7-mcp/mcp timeout=60.0
2025-12-22 09:13:00,528 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=context7-mcp url=https://server.smithery.ai/@upstash/context7-mcp/mcp headers=['Authorization']
2025-12-22 09:13:01,041 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@docfork/mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:01,042 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=docfork err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@docfork/mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:01,042 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=docfork full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@docfork/mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:01,042 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=docfork connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:13:01,061 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@smithery-ai/fetch/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:01,061 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=fetch err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@smithery-ai/fetch/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:01,062 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=fetch full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@smithery-ai/fetch/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:01,062 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=fetch connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:13:01,063 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@upstash/context7-mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:01,064 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=context7-mcp err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@upstash/context7-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:01,064 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=context7-mcp full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@upstash/context7-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:01,064 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=context7-mcp connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:13:02,045 [INFO] src.core.mcp_integration: Connecting to MCP server docfork (timeout: 60.0s, attempt 2/3)...
2025-12-22 09:13:02,045 [INFO] src.core.mcp_integration: [MCP][connect.start] server=docfork type=http url=https://server.smithery.ai/@docfork/mcp/mcp timeout=60.0
2025-12-22 09:13:02,045 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=docfork url=https://server.smithery.ai/@docfork/mcp/mcp headers=['Authorization']
2025-12-22 09:13:02,063 [INFO] src.core.mcp_integration: Connecting to MCP server fetch (timeout: 60.0s, attempt 2/3)...
2025-12-22 09:13:02,063 [INFO] src.core.mcp_integration: [MCP][connect.start] server=fetch type=http url=https://server.smithery.ai/@smithery-ai/fetch/mcp timeout=60.0
2025-12-22 09:13:02,063 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=fetch url=https://server.smithery.ai/@smithery-ai/fetch/mcp headers=['Authorization']
2025-12-22 09:13:02,082 [INFO] src.core.mcp_integration: Connecting to MCP server context7-mcp (timeout: 60.0s, attempt 2/3)...
2025-12-22 09:13:02,082 [INFO] src.core.mcp_integration: [MCP][connect.start] server=context7-mcp type=http url=https://server.smithery.ai/@upstash/context7-mcp/mcp timeout=60.0
2025-12-22 09:13:02,082 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=context7-mcp url=https://server.smithery.ai/@upstash/context7-mcp/mcp headers=['Authorization']
2025-12-22 09:13:02,590 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@docfork/mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:02,591 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=docfork err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@docfork/mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:02,591 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=docfork full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@docfork/mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:02,592 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=docfork connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:13:02,617 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@upstash/context7-mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:02,618 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=context7-mcp err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@upstash/context7-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:02,618 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=context7-mcp full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@upstash/context7-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:02,619 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=context7-mcp connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:13:02,622 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@smithery-ai/fetch/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:02,622 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=fetch err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@smithery-ai/fetch/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:02,622 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=fetch full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@smithery-ai/fetch/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:02,623 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=fetch connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:13:04,594 [INFO] src.core.mcp_integration: Connecting to MCP server docfork (timeout: 60.0s, attempt 3/3)...
2025-12-22 09:13:04,594 [INFO] src.core.mcp_integration: [MCP][connect.start] server=docfork type=http url=https://server.smithery.ai/@docfork/mcp/mcp timeout=60.0
2025-12-22 09:13:04,595 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=docfork url=https://server.smithery.ai/@docfork/mcp/mcp headers=['Authorization']
2025-12-22 09:13:04,619 [INFO] src.core.mcp_integration: Connecting to MCP server context7-mcp (timeout: 60.0s, attempt 3/3)...
2025-12-22 09:13:04,619 [INFO] src.core.mcp_integration: [MCP][connect.start] server=context7-mcp type=http url=https://server.smithery.ai/@upstash/context7-mcp/mcp timeout=60.0
2025-12-22 09:13:04,620 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=context7-mcp url=https://server.smithery.ai/@upstash/context7-mcp/mcp headers=['Authorization']
2025-12-22 09:13:04,638 [INFO] src.core.mcp_integration: Connecting to MCP server fetch (timeout: 60.0s, attempt 3/3)...
2025-12-22 09:13:04,638 [INFO] src.core.mcp_integration: [MCP][connect.start] server=fetch type=http url=https://server.smithery.ai/@smithery-ai/fetch/mcp timeout=60.0
2025-12-22 09:13:04,638 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=fetch url=https://server.smithery.ai/@smithery-ai/fetch/mcp headers=['Authorization']
2025-12-22 09:13:05,096 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@docfork/mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:05,097 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=docfork err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@docfork/mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:05,097 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=docfork full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@docfork/mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:05,097 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=docfork failed after 3 attempts
2025-12-22 09:13:05,097 [INFO] src.core.mcp_integration: Connecting to MCP server semantic_scholar (timeout: 20.0s, attempt 1/3)...
2025-12-22 09:13:05,097 [INFO] src.core.mcp_integration: [MCP][connect.start] server=semantic_scholar type=http url=https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp timeout=20.0
2025-12-22 09:13:05,098 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=semantic_scholar url=https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp headers=['Authorization']
2025-12-22 09:13:05,115 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@smithery-ai/fetch/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:05,116 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=fetch err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@smithery-ai/fetch/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:05,116 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=fetch full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@smithery-ai/fetch/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:05,117 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=fetch failed after 3 attempts
2025-12-22 09:13:05,117 [INFO] src.core.mcp_integration: Connecting to MCP server parallel-search (timeout: 60.0s, attempt 1/3)...
2025-12-22 09:13:05,117 [INFO] src.core.mcp_integration: [MCP][connect.start] server=parallel-search type=http url=https://server.smithery.ai/@parallel/search/mcp timeout=60.0
2025-12-22 09:13:05,117 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=parallel-search url=https://server.smithery.ai/@parallel/search/mcp headers=['Authorization']
2025-12-22 09:13:05,135 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@upstash/context7-mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:05,137 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=context7-mcp err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@upstash/context7-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:05,137 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=context7-mcp full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@upstash/context7-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:05,138 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=context7-mcp failed after 3 attempts
2025-12-22 09:13:05,138 [INFO] src.core.mcp_integration: Connecting to MCP server WebSearch-MCP (timeout: 60.0s, attempt 1/3)...
2025-12-22 09:13:05,138 [INFO] src.core.mcp_integration: [MCP][connect.start] server=WebSearch-MCP type=http url=https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp timeout=60.0
2025-12-22 09:13:05,139 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=WebSearch-MCP url=https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp headers=['Authorization']
2025-12-22 09:13:05,580 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:05,581 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=semantic_scholar err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:05,581 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=semantic_scholar full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:05,582 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=semantic_scholar connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:13:05,597 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:05,597 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=WebSearch-MCP err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:05,597 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=WebSearch-MCP full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:05,598 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=WebSearch-MCP connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:13:05,620 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@parallel/search/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:05,621 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=parallel-search err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@parallel/search/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:05,621 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=parallel-search full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@parallel/search/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:05,622 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=parallel-search connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:13:06,584 [INFO] src.core.mcp_integration: Connecting to MCP server semantic_scholar (timeout: 20.0s, attempt 2/3)...
2025-12-22 09:13:06,584 [INFO] src.core.mcp_integration: [MCP][connect.start] server=semantic_scholar type=http url=https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp timeout=20.0
2025-12-22 09:13:06,584 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=semantic_scholar url=https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp headers=['Authorization']
2025-12-22 09:13:06,604 [INFO] src.core.mcp_integration: Connecting to MCP server WebSearch-MCP (timeout: 60.0s, attempt 2/3)...
2025-12-22 09:13:06,605 [INFO] src.core.mcp_integration: [MCP][connect.start] server=WebSearch-MCP type=http url=https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp timeout=60.0
2025-12-22 09:13:06,605 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=WebSearch-MCP url=https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp headers=['Authorization']
2025-12-22 09:13:06,623 [INFO] src.core.mcp_integration: Connecting to MCP server parallel-search (timeout: 60.0s, attempt 2/3)...
2025-12-22 09:13:06,623 [INFO] src.core.mcp_integration: [MCP][connect.start] server=parallel-search type=http url=https://server.smithery.ai/@parallel/search/mcp timeout=60.0
2025-12-22 09:13:06,624 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=parallel-search url=https://server.smithery.ai/@parallel/search/mcp headers=['Authorization']
2025-12-22 09:13:07,080 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:07,081 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=semantic_scholar err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:07,081 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=semantic_scholar full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:07,081 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=semantic_scholar connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:13:07,089 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@parallel/search/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:07,090 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=parallel-search err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@parallel/search/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:07,090 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=parallel-search full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@parallel/search/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:07,091 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=parallel-search connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:13:07,120 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:07,120 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=WebSearch-MCP err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:07,120 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=WebSearch-MCP full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:07,121 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=WebSearch-MCP connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:13:09,085 [INFO] src.core.mcp_integration: Connecting to MCP server semantic_scholar (timeout: 20.0s, attempt 3/3)...
2025-12-22 09:13:09,085 [INFO] src.core.mcp_integration: [MCP][connect.start] server=semantic_scholar type=http url=https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp timeout=20.0
2025-12-22 09:13:09,085 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=semantic_scholar url=https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp headers=['Authorization']
2025-12-22 09:13:09,103 [INFO] src.core.mcp_integration: Connecting to MCP server parallel-search (timeout: 60.0s, attempt 3/3)...
2025-12-22 09:13:09,103 [INFO] src.core.mcp_integration: [MCP][connect.start] server=parallel-search type=http url=https://server.smithery.ai/@parallel/search/mcp timeout=60.0
2025-12-22 09:13:09,103 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=parallel-search url=https://server.smithery.ai/@parallel/search/mcp headers=['Authorization']
2025-12-22 09:13:09,122 [INFO] src.core.mcp_integration: Connecting to MCP server WebSearch-MCP (timeout: 60.0s, attempt 3/3)...
2025-12-22 09:13:09,122 [INFO] src.core.mcp_integration: [MCP][connect.start] server=WebSearch-MCP type=http url=https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp timeout=60.0
2025-12-22 09:13:09,122 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=WebSearch-MCP url=https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp headers=['Authorization']
2025-12-22 09:13:09,561 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:09,561 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=semantic_scholar err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:09,562 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=semantic_scholar full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:09,562 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=semantic_scholar failed after 3 attempts
2025-12-22 09:13:09,562 [INFO] src.core.mcp_integration: Connecting to MCP server Google search console (timeout: 30.0s, attempt 1/3)...
2025-12-22 09:13:09,562 [INFO] src.core.mcp_integration: [MCP][connect.start] server=Google search console type=http url=https://server.smithery.ai/google_search_console/mcp timeout=30.0
2025-12-22 09:13:09,563 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=Google search console url=https://server.smithery.ai/google_search_console/mcp headers=['Authorization']
2025-12-22 09:13:09,580 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@parallel/search/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:09,582 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=parallel-search err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@parallel/search/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:09,582 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=parallel-search full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@parallel/search/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:09,583 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=parallel-search failed after 3 attempts
2025-12-22 09:13:09,583 [INFO] src.core.mcp_integration: Connecting to MCP server Paper Search (timeout: 30.0s, attempt 1/3)...
2025-12-22 09:13:09,583 [INFO] src.core.mcp_integration: [MCP][connect.start] server=Paper Search type=http url=https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp timeout=30.0
2025-12-22 09:13:09,583 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=Paper Search url=https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp headers=['Authorization']
2025-12-22 09:13:09,602 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:09,603 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=WebSearch-MCP err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:09,604 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=WebSearch-MCP full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:09,604 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=WebSearch-MCP failed after 3 attempts
2025-12-22 09:13:09,605 [INFO] src.core.mcp_integration: Connecting to MCP server TodoList (timeout: 30.0s, attempt 1/3)...
2025-12-22 09:13:09,605 [INFO] src.core.mcp_integration: [MCP][connect.start] server=TodoList type=http url=https://server.smithery.ai/todoist/mcp timeout=30.0
2025-12-22 09:13:09,605 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=TodoList url=https://server.smithery.ai/todoist/mcp headers=['Authorization']
2025-12-22 09:13:10,050 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/google_search_console/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:10,051 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Google search console err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/google_search_console/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:10,051 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Google search console full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/google_search_console/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:10,052 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=Google search console connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:13:10,065 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:10,066 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/todoist/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:10,066 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Paper Search err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:10,066 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Paper Search full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:10,067 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=Paper Search connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:13:10,067 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=TodoList err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/todoist/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:10,067 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=TodoList full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/todoist/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:10,068 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=TodoList connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:13:11,053 [INFO] src.core.mcp_integration: Connecting to MCP server Google search console (timeout: 30.0s, attempt 2/3)...
2025-12-22 09:13:11,054 [INFO] src.core.mcp_integration: [MCP][connect.start] server=Google search console type=http url=https://server.smithery.ai/google_search_console/mcp timeout=30.0
2025-12-22 09:13:11,054 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=Google search console url=https://server.smithery.ai/google_search_console/mcp headers=['Authorization']
2025-12-22 09:13:11,073 [INFO] src.core.mcp_integration: Connecting to MCP server Paper Search (timeout: 30.0s, attempt 2/3)...
2025-12-22 09:13:11,074 [INFO] src.core.mcp_integration: [MCP][connect.start] server=Paper Search type=http url=https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp timeout=30.0
2025-12-22 09:13:11,074 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=Paper Search url=https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp headers=['Authorization']
2025-12-22 09:13:11,074 [INFO] src.core.mcp_integration: Connecting to MCP server TodoList (timeout: 30.0s, attempt 2/3)...
2025-12-22 09:13:11,074 [INFO] src.core.mcp_integration: [MCP][connect.start] server=TodoList type=http url=https://server.smithery.ai/todoist/mcp timeout=30.0
2025-12-22 09:13:11,074 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=TodoList url=https://server.smithery.ai/todoist/mcp headers=['Authorization']
2025-12-22 09:13:11,560 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/google_search_console/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:11,560 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Google search console err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/google_search_console/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:11,560 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Google search console full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/google_search_console/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:11,561 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=Google search console connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:13:11,571 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/todoist/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:11,571 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=TodoList err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/todoist/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:11,571 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=TodoList full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/todoist/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:11,572 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=TodoList connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:13:11,592 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:11,593 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Paper Search err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:11,593 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Paper Search full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:11,594 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=Paper Search connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:13:13,564 [INFO] src.core.mcp_integration: Connecting to MCP server Google search console (timeout: 30.0s, attempt 3/3)...
2025-12-22 09:13:13,565 [INFO] src.core.mcp_integration: [MCP][connect.start] server=Google search console type=http url=https://server.smithery.ai/google_search_console/mcp timeout=30.0
2025-12-22 09:13:13,565 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=Google search console url=https://server.smithery.ai/google_search_console/mcp headers=['Authorization']
2025-12-22 09:13:13,585 [INFO] src.core.mcp_integration: Connecting to MCP server TodoList (timeout: 30.0s, attempt 3/3)...
2025-12-22 09:13:13,585 [INFO] src.core.mcp_integration: [MCP][connect.start] server=TodoList type=http url=https://server.smithery.ai/todoist/mcp timeout=30.0
2025-12-22 09:13:13,585 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=TodoList url=https://server.smithery.ai/todoist/mcp headers=['Authorization']
2025-12-22 09:13:13,626 [INFO] src.core.mcp_integration: Connecting to MCP server Paper Search (timeout: 30.0s, attempt 3/3)...
2025-12-22 09:13:13,626 [INFO] src.core.mcp_integration: [MCP][connect.start] server=Paper Search type=http url=https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp timeout=30.0
2025-12-22 09:13:13,626 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=Paper Search url=https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp headers=['Authorization']
2025-12-22 09:13:14,064 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/google_search_console/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:14,065 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Google search console err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/google_search_console/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:14,065 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Google search console full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/google_search_console/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:14,066 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=Google search console failed after 3 attempts
2025-12-22 09:13:14,066 [INFO] src.core.mcp_integration: Connecting to MCP server arxiv (timeout: 60.0s, attempt 1/3)...
2025-12-22 09:13:14,066 [INFO] src.core.mcp_integration: [MCP][connect.start] server=arxiv type=stdio url=None timeout=60.0
2025-12-22 09:13:14,066 [INFO] src.core.mcp_integration: [MCP][stdio.connect] server=arxiv command=npx args=['-y', '@modelcontextprotocol/server-arxiv@latest']
2025-12-22 09:13:14,081 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/todoist/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:14,082 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=TodoList err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/todoist/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:14,082 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=TodoList full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/todoist/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:14,083 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=TodoList failed after 3 attempts
2025-12-22 09:13:14,083 [INFO] src.core.mcp_integration: Connecting to MCP server kis MCP (timeout: 30.0s, attempt 1/3)...
2025-12-22 09:13:14,083 [INFO] src.core.mcp_integration: [MCP][connect.start] server=kis MCP type=http url=https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp timeout=30.0
2025-12-22 09:13:14,083 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=kis MCP url=https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp headers=['Authorization']
2025-12-22 09:13:14,104 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:14,105 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Paper Search err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:14,105 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Paper Search full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:14,106 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=Paper Search failed after 3 attempts
2025-12-22 09:13:14,469 [ERROR] src.core.mcp_integration: [MCP][stdio.connect] Failed to connect to arxiv: Client failed to connect: Connection closed
  + Exception Group Traceback (most recent call last):
  |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 63, in handle_exception
  |     raise matched
  | ExceptionGroup:  (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    |     await stack.enter_async_context(self._context_manager())
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    |     result = await _enter(cm)
    |              ^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    |     return await anext(self.gen)
    |            ^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    |     result = handler(matched)
    |              ^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    |     raise leaf
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 362, in _context_manager
    |     await self._session_state.session.initialize()
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/session.py", line 152, in initialize
    |     result = await self.send_request(
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/shared/session.py", line 288, in send_request
    |     raise McpError(response_or_error.error)
    | mcp.shared.exceptions.McpError: Connection closed
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 362, in _context_manager
    await self._session_state.session.initialize()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/session.py", line 152, in initialize
    result = await self.send_request(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/shared/session.py", line 288, in send_request
    raise McpError(response_or_error.error)
mcp.shared.exceptions.McpError: Connection closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1065, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 419, in _connect
    raise RuntimeError(
RuntimeError: Client failed to connect: Connection closed
2025-12-22 09:13:14,470 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=arxiv connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:13:14,541 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:14,542 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=kis MCP err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:14,542 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=kis MCP full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:14,543 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=kis MCP connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:13:15,472 [INFO] src.core.mcp_integration: Connecting to MCP server arxiv (timeout: 60.0s, attempt 2/3)...
2025-12-22 09:13:15,472 [INFO] src.core.mcp_integration: [MCP][connect.start] server=arxiv type=stdio url=None timeout=60.0
2025-12-22 09:13:15,472 [INFO] src.core.mcp_integration: [MCP][stdio.connect] server=arxiv command=npx args=['-y', '@modelcontextprotocol/server-arxiv@latest']
2025-12-22 09:13:15,544 [INFO] src.core.mcp_integration: Connecting to MCP server kis MCP (timeout: 30.0s, attempt 2/3)...
2025-12-22 09:13:15,545 [INFO] src.core.mcp_integration: [MCP][connect.start] server=kis MCP type=http url=https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp timeout=30.0
2025-12-22 09:13:15,545 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=kis MCP url=https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp headers=['Authorization']
2025-12-22 09:13:15,962 [ERROR] src.core.mcp_integration: [MCP][stdio.connect] Failed to connect to arxiv: Client failed to connect: Connection closed
  + Exception Group Traceback (most recent call last):
  |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 63, in handle_exception
  |     raise matched
  | ExceptionGroup:  (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    |     await stack.enter_async_context(self._context_manager())
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    |     result = await _enter(cm)
    |              ^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    |     return await anext(self.gen)
    |            ^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    |     result = handler(matched)
    |              ^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    |     raise leaf
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 362, in _context_manager
    |     await self._session_state.session.initialize()
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/session.py", line 152, in initialize
    |     result = await self.send_request(
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/shared/session.py", line 288, in send_request
    |     raise McpError(response_or_error.error)
    | mcp.shared.exceptions.McpError: Connection closed
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 362, in _context_manager
    await self._session_state.session.initialize()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/session.py", line 152, in initialize
    result = await self.send_request(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/shared/session.py", line 288, in send_request
    raise McpError(response_or_error.error)
mcp.shared.exceptions.McpError: Connection closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1065, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 419, in _connect
    raise RuntimeError(
RuntimeError: Client failed to connect: Connection closed
2025-12-22 09:13:15,963 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=arxiv connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:13:16,005 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:16,005 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=kis MCP err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:16,005 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=kis MCP full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:16,006 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=kis MCP connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:13:17,965 [INFO] src.core.mcp_integration: Connecting to MCP server arxiv (timeout: 60.0s, attempt 3/3)...
2025-12-22 09:13:17,966 [INFO] src.core.mcp_integration: [MCP][connect.start] server=arxiv type=stdio url=None timeout=60.0
2025-12-22 09:13:17,966 [INFO] src.core.mcp_integration: [MCP][stdio.connect] server=arxiv command=npx args=['-y', '@modelcontextprotocol/server-arxiv@latest']
2025-12-22 09:13:18,007 [INFO] src.core.mcp_integration: Connecting to MCP server kis MCP (timeout: 30.0s, attempt 3/3)...
2025-12-22 09:13:18,007 [INFO] src.core.mcp_integration: [MCP][connect.start] server=kis MCP type=http url=https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp timeout=30.0
2025-12-22 09:13:18,007 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=kis MCP url=https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp headers=['Authorization']
2025-12-22 09:13:18,379 [ERROR] src.core.mcp_integration: [MCP][stdio.connect] Failed to connect to arxiv: Client failed to connect: Connection closed
  + Exception Group Traceback (most recent call last):
  |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 63, in handle_exception
  |     raise matched
  | ExceptionGroup:  (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    |     await stack.enter_async_context(self._context_manager())
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    |     result = await _enter(cm)
    |              ^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    |     return await anext(self.gen)
    |            ^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    |     result = handler(matched)
    |              ^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    |     raise leaf
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 362, in _context_manager
    |     await self._session_state.session.initialize()
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/session.py", line 152, in initialize
    |     result = await self.send_request(
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/shared/session.py", line 288, in send_request
    |     raise McpError(response_or_error.error)
    | mcp.shared.exceptions.McpError: Connection closed
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 362, in _context_manager
    await self._session_state.session.initialize()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/session.py", line 152, in initialize
    result = await self.send_request(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/shared/session.py", line 288, in send_request
    raise McpError(response_or_error.error)
mcp.shared.exceptions.McpError: Connection closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1065, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 419, in _connect
    raise RuntimeError(
RuntimeError: Client failed to connect: Connection closed
2025-12-22 09:13:18,380 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=arxiv failed after 3 attempts
2025-12-22 09:13:18,479 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:18,480 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=kis MCP err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:18,480 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=kis MCP full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:18,481 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=kis MCP failed after 3 attempts
2025-12-22 09:13:18,481 [WARNING] src.core.mcp_integration: ‚ö†Ô∏è No MCP servers connected successfully
2025-12-22 09:13:18,481 [INFO] src.core.mcp_integration: ‚úÖ MCP Hub initialized (OpenRouter disabled)
2025-12-22 09:13:18,481 [INFO] src.core.mcp_integration: Available tools: 9
2025-12-22 09:13:18,481 [INFO] src.core.mcp_integration: MCP servers: []
2025-12-22 09:13:18,481 [INFO] src.core.mcp_integration: Primary model: google/gemini-2.5-flash-lite
2025-12-22 09:13:18,482 [INFO] src.core.mcp_integration: [MCP][diagnostics] server connection summary
2025-12-22 09:13:18,482 [INFO] src.core.mcp_integration: [MCP][diag] server=fetch type=http url=https://server.smithery.ai/@smithery-ai/fetch/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/@smithery-ai/fetch/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:18,482 [INFO] src.core.mcp_integration: [MCP][diag] server=docfork type=http url=https://server.smithery.ai/@docfork/mcp/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/@docfork/mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:18,482 [INFO] src.core.mcp_integration: [MCP][diag] server=context7-mcp type=http url=https://server.smithery.ai/@upstash/context7-mcp/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/@upstash/context7-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:18,482 [INFO] src.core.mcp_integration: [MCP][diag] server=semantic_scholar type=http url=https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:18,482 [INFO] src.core.mcp_integration: [MCP][diag] server=parallel-search type=http url=https://server.smithery.ai/@parallel/search/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/@parallel/search/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:18,482 [INFO] src.core.mcp_integration: [MCP][diag] server=WebSearch-MCP type=http url=https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:18,482 [INFO] src.core.mcp_integration: [MCP][diag] server=Google search console type=http url=https://server.smithery.ai/google_search_console/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/google_search_console/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:18,482 [INFO] src.core.mcp_integration: [MCP][diag] server=Paper Search type=http url=https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:18,482 [INFO] src.core.mcp_integration: [MCP][diag] server=TodoList type=http url=https://server.smithery.ai/todoist/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/todoist/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:18,482 [INFO] src.core.mcp_integration: [MCP][diag] server=arxiv type=stdio url=None stage=failed ok=False init_ms=- list_ms=- err=Client failed to connect: Connection closed
2025-12-22 09:13:18,482 [INFO] src.core.mcp_integration: [MCP][diag] server=kis MCP type=http url=https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:18,482 [INFO] src.core.mcp_integration: Validating essential tools availability...
2025-12-22 09:13:18,482 [INFO] src.core.mcp_integration: Registered tools: ['g-search', 'fetch', 'filesystem', 'python_coder', 'code_interpreter', 'arxiv', 'scholar', 'ddg_search']
2025-12-22 09:13:18,482 [INFO] src.core.mcp_integration: ‚úÖ Found essential tool: g-search
2025-12-22 09:13:18,482 [INFO] src.core.mcp_integration: ‚úÖ Found essential tool: fetch
2025-12-22 09:13:18,483 [INFO] src.core.mcp_integration: ‚úÖ Found essential tool: filesystem
2025-12-22 09:13:18,483 [INFO] src.core.mcp_integration: ‚úÖ All essential tools found in registry
2025-12-22 09:13:18,498 [INFO] src.core.mcp_integration: [MCP][exec.start] tool=g-search params_keys=['query', 'max_results']
2025-12-22 09:13:18,499 [INFO] src.core.mcp_integration: [MCP][exec.start] parameters_preview={'query': 'Python programming language', 'max_results': 3}...
2025-12-22 09:13:18,499 [INFO] src.core.mcp_integration: [MCP][exec.route] Routing g-search to _execute_search_tool (tool_name type: <class 'str'>)
2025-12-22 09:13:18,499 [WARNING] src.core.mcp_integration: No MCP servers connected, attempting to initialize...
2025-12-22 09:13:18,547 [INFO] httpx: HTTP Request: GET http://localhost:8080/api/vm/list "HTTP/1.1 500 Internal Server Error"
2025-12-22 09:13:18,593 [INFO] httpx: HTTP Request: GET http://localhost:8080/api/vm/list "HTTP/1.1 500 Internal Server Error"
2025-12-22 09:13:18,594 [WARNING] src.core.era_server_manager: Port 8080 is already in use. Assuming ERA server is running externally.
2025-12-22 09:13:18,594 [INFO] src.core.mcp_integration: ‚úÖ ERA server is running (safe code execution enabled)
2025-12-22 09:13:18,594 [INFO] src.core.mcp_integration: Initializing MCP Hub with MCP servers (no OpenRouter)...
2025-12-22 09:13:18,594 [INFO] src.core.mcp_integration: [MCP][init.batch] Waiting 3.0s for batch initialization before connecting servers...
2025-12-22 09:13:21,597 [INFO] src.core.mcp_integration: [MCP][init] max_concurrency=3, timeout_per_server=60.0s
2025-12-22 09:13:21,598 [INFO] src.core.mcp_integration: [MCP][allowlist] not set; connecting to all enabled servers: ['fetch', 'docfork', 'context7-mcp', 'semantic_scholar', 'parallel-search', 'WebSearch-MCP', 'Google search console', 'Paper Search', 'TodoList', 'arxiv', 'kis MCP']
2025-12-22 09:13:21,598 [INFO] src.core.mcp_integration: Connecting to MCP server fetch (timeout: 60.0s, attempt 1/3)...
2025-12-22 09:13:21,598 [INFO] src.core.mcp_integration: [MCP][connect.start] server=fetch type=http url=https://server.smithery.ai/@smithery-ai/fetch/mcp timeout=60.0
2025-12-22 09:13:21,598 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=fetch url=https://server.smithery.ai/@smithery-ai/fetch/mcp headers=['Authorization']
2025-12-22 09:13:21,599 [INFO] src.core.mcp_integration: Connecting to MCP server docfork (timeout: 60.0s, attempt 1/3)...
2025-12-22 09:13:21,599 [INFO] src.core.mcp_integration: [MCP][connect.start] server=docfork type=http url=https://server.smithery.ai/@docfork/mcp/mcp timeout=60.0
2025-12-22 09:13:21,599 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=docfork url=https://server.smithery.ai/@docfork/mcp/mcp headers=['Authorization']
2025-12-22 09:13:21,599 [INFO] src.core.mcp_integration: Connecting to MCP server context7-mcp (timeout: 60.0s, attempt 1/3)...
2025-12-22 09:13:21,599 [INFO] src.core.mcp_integration: [MCP][connect.start] server=context7-mcp type=http url=https://server.smithery.ai/@upstash/context7-mcp/mcp timeout=60.0
2025-12-22 09:13:21,599 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=context7-mcp url=https://server.smithery.ai/@upstash/context7-mcp/mcp headers=['Authorization']
2025-12-22 09:13:22,093 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@upstash/context7-mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:22,095 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=context7-mcp err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@upstash/context7-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:22,095 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=context7-mcp full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@upstash/context7-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:22,096 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=context7-mcp connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:13:22,106 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@docfork/mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:22,107 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=docfork err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@docfork/mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:22,107 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=docfork full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@docfork/mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:22,108 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=docfork connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:13:22,113 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@smithery-ai/fetch/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:22,114 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=fetch err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@smithery-ai/fetch/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:22,114 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=fetch full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@smithery-ai/fetch/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:22,115 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=fetch connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:13:23,098 [INFO] src.core.mcp_integration: Connecting to MCP server context7-mcp (timeout: 60.0s, attempt 2/3)...
2025-12-22 09:13:23,098 [INFO] src.core.mcp_integration: [MCP][connect.start] server=context7-mcp type=http url=https://server.smithery.ai/@upstash/context7-mcp/mcp timeout=60.0
2025-12-22 09:13:23,098 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=context7-mcp url=https://server.smithery.ai/@upstash/context7-mcp/mcp headers=['Authorization']
2025-12-22 09:13:23,117 [INFO] src.core.mcp_integration: Connecting to MCP server docfork (timeout: 60.0s, attempt 2/3)...
2025-12-22 09:13:23,117 [INFO] src.core.mcp_integration: [MCP][connect.start] server=docfork type=http url=https://server.smithery.ai/@docfork/mcp/mcp timeout=60.0
2025-12-22 09:13:23,117 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=docfork url=https://server.smithery.ai/@docfork/mcp/mcp headers=['Authorization']
2025-12-22 09:13:23,117 [INFO] src.core.mcp_integration: Connecting to MCP server fetch (timeout: 60.0s, attempt 2/3)...
2025-12-22 09:13:23,118 [INFO] src.core.mcp_integration: [MCP][connect.start] server=fetch type=http url=https://server.smithery.ai/@smithery-ai/fetch/mcp timeout=60.0
2025-12-22 09:13:23,118 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=fetch url=https://server.smithery.ai/@smithery-ai/fetch/mcp headers=['Authorization']
2025-12-22 09:13:23,590 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@upstash/context7-mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:23,591 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=context7-mcp err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@upstash/context7-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:23,591 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=context7-mcp full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@upstash/context7-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:23,592 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=context7-mcp connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:13:23,600 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@docfork/mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:23,600 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=docfork err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@docfork/mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:23,601 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=docfork full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@docfork/mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:23,601 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=docfork connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:13:23,602 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@smithery-ai/fetch/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:23,602 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=fetch err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@smithery-ai/fetch/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:23,602 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=fetch full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@smithery-ai/fetch/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:23,603 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=fetch connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:13:25,594 [INFO] src.core.mcp_integration: Connecting to MCP server context7-mcp (timeout: 60.0s, attempt 3/3)...
2025-12-22 09:13:25,595 [INFO] src.core.mcp_integration: [MCP][connect.start] server=context7-mcp type=http url=https://server.smithery.ai/@upstash/context7-mcp/mcp timeout=60.0
2025-12-22 09:13:25,595 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=context7-mcp url=https://server.smithery.ai/@upstash/context7-mcp/mcp headers=['Authorization']
2025-12-22 09:13:25,613 [INFO] src.core.mcp_integration: Connecting to MCP server docfork (timeout: 60.0s, attempt 3/3)...
2025-12-22 09:13:25,614 [INFO] src.core.mcp_integration: [MCP][connect.start] server=docfork type=http url=https://server.smithery.ai/@docfork/mcp/mcp timeout=60.0
2025-12-22 09:13:25,614 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=docfork url=https://server.smithery.ai/@docfork/mcp/mcp headers=['Authorization']
2025-12-22 09:13:25,614 [INFO] src.core.mcp_integration: Connecting to MCP server fetch (timeout: 60.0s, attempt 3/3)...
2025-12-22 09:13:25,614 [INFO] src.core.mcp_integration: [MCP][connect.start] server=fetch type=http url=https://server.smithery.ai/@smithery-ai/fetch/mcp timeout=60.0
2025-12-22 09:13:25,614 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=fetch url=https://server.smithery.ai/@smithery-ai/fetch/mcp headers=['Authorization']
2025-12-22 09:13:26,110 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@upstash/context7-mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:26,111 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=context7-mcp err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@upstash/context7-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:26,111 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=context7-mcp full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@upstash/context7-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:26,112 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=context7-mcp failed after 3 attempts
2025-12-22 09:13:26,112 [INFO] src.core.mcp_integration: Connecting to MCP server semantic_scholar (timeout: 20.0s, attempt 1/3)...
2025-12-22 09:13:26,112 [INFO] src.core.mcp_integration: [MCP][connect.start] server=semantic_scholar type=http url=https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp timeout=20.0
2025-12-22 09:13:26,113 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=semantic_scholar url=https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp headers=['Authorization']
2025-12-22 09:13:26,113 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@smithery-ai/fetch/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:26,132 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@docfork/mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:26,133 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=fetch err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@smithery-ai/fetch/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:26,133 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=fetch full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@smithery-ai/fetch/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:26,134 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=fetch failed after 3 attempts
2025-12-22 09:13:26,134 [INFO] src.core.mcp_integration: Connecting to MCP server parallel-search (timeout: 60.0s, attempt 1/3)...
2025-12-22 09:13:26,134 [INFO] src.core.mcp_integration: [MCP][connect.start] server=parallel-search type=http url=https://server.smithery.ai/@parallel/search/mcp timeout=60.0
2025-12-22 09:13:26,135 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=parallel-search url=https://server.smithery.ai/@parallel/search/mcp headers=['Authorization']
2025-12-22 09:13:26,153 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=docfork err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@docfork/mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:26,153 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=docfork full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@docfork/mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:26,154 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=docfork failed after 3 attempts
2025-12-22 09:13:26,154 [INFO] src.core.mcp_integration: Connecting to MCP server WebSearch-MCP (timeout: 60.0s, attempt 1/3)...
2025-12-22 09:13:26,154 [INFO] src.core.mcp_integration: [MCP][connect.start] server=WebSearch-MCP type=http url=https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp timeout=60.0
2025-12-22 09:13:26,154 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=WebSearch-MCP url=https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp headers=['Authorization']
2025-12-22 09:13:26,607 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:26,608 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=semantic_scholar err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:26,608 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=semantic_scholar full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:26,609 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=semantic_scholar connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:13:26,611 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@parallel/search/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:26,612 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=parallel-search err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@parallel/search/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:26,612 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=parallel-search full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@parallel/search/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:26,613 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=parallel-search connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:13:26,617 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:26,618 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=WebSearch-MCP err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:26,618 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=WebSearch-MCP full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:26,619 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=WebSearch-MCP connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:13:27,610 [INFO] src.core.mcp_integration: Connecting to MCP server semantic_scholar (timeout: 20.0s, attempt 2/3)...
2025-12-22 09:13:27,611 [INFO] src.core.mcp_integration: [MCP][connect.start] server=semantic_scholar type=http url=https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp timeout=20.0
2025-12-22 09:13:27,611 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=semantic_scholar url=https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp headers=['Authorization']
2025-12-22 09:13:27,628 [INFO] src.core.mcp_integration: Connecting to MCP server parallel-search (timeout: 60.0s, attempt 2/3)...
2025-12-22 09:13:27,629 [INFO] src.core.mcp_integration: [MCP][connect.start] server=parallel-search type=http url=https://server.smithery.ai/@parallel/search/mcp timeout=60.0
2025-12-22 09:13:27,629 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=parallel-search url=https://server.smithery.ai/@parallel/search/mcp headers=['Authorization']
2025-12-22 09:13:27,629 [INFO] src.core.mcp_integration: Connecting to MCP server WebSearch-MCP (timeout: 60.0s, attempt 2/3)...
2025-12-22 09:13:27,629 [INFO] src.core.mcp_integration: [MCP][connect.start] server=WebSearch-MCP type=http url=https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp timeout=60.0
2025-12-22 09:13:27,629 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=WebSearch-MCP url=https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp headers=['Authorization']
2025-12-22 09:13:28,117 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@parallel/search/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:28,117 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=parallel-search err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@parallel/search/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:28,117 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=parallel-search full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@parallel/search/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:28,118 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=parallel-search connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:13:28,120 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:28,121 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=semantic_scholar err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:28,121 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=semantic_scholar full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:28,122 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=semantic_scholar connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:13:28,126 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:28,127 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=WebSearch-MCP err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:28,127 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=WebSearch-MCP full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:28,128 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=WebSearch-MCP connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:13:30,121 [INFO] src.core.mcp_integration: Connecting to MCP server parallel-search (timeout: 60.0s, attempt 3/3)...
2025-12-22 09:13:30,121 [INFO] src.core.mcp_integration: [MCP][connect.start] server=parallel-search type=http url=https://server.smithery.ai/@parallel/search/mcp timeout=60.0
2025-12-22 09:13:30,121 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=parallel-search url=https://server.smithery.ai/@parallel/search/mcp headers=['Authorization']
2025-12-22 09:13:30,140 [INFO] src.core.mcp_integration: Connecting to MCP server semantic_scholar (timeout: 20.0s, attempt 3/3)...
2025-12-22 09:13:30,141 [INFO] src.core.mcp_integration: [MCP][connect.start] server=semantic_scholar type=http url=https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp timeout=20.0
2025-12-22 09:13:30,141 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=semantic_scholar url=https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp headers=['Authorization']
2025-12-22 09:13:30,141 [INFO] src.core.mcp_integration: Connecting to MCP server WebSearch-MCP (timeout: 60.0s, attempt 3/3)...
2025-12-22 09:13:30,141 [INFO] src.core.mcp_integration: [MCP][connect.start] server=WebSearch-MCP type=http url=https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp timeout=60.0
2025-12-22 09:13:30,141 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=WebSearch-MCP url=https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp headers=['Authorization']
2025-12-22 09:13:30,621 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@parallel/search/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:30,622 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=parallel-search err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@parallel/search/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:30,622 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=parallel-search full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@parallel/search/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:30,622 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=parallel-search failed after 3 attempts
2025-12-22 09:13:30,623 [INFO] src.core.mcp_integration: Connecting to MCP server Google search console (timeout: 30.0s, attempt 1/3)...
2025-12-22 09:13:30,623 [INFO] src.core.mcp_integration: [MCP][connect.start] server=Google search console type=http url=https://server.smithery.ai/google_search_console/mcp timeout=30.0
2025-12-22 09:13:30,623 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=Google search console url=https://server.smithery.ai/google_search_console/mcp headers=['Authorization']
2025-12-22 09:13:30,642 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:30,643 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=WebSearch-MCP err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:30,643 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=WebSearch-MCP full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:30,644 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=WebSearch-MCP failed after 3 attempts
2025-12-22 09:13:30,644 [INFO] src.core.mcp_integration: Connecting to MCP server Paper Search (timeout: 30.0s, attempt 1/3)...
2025-12-22 09:13:30,644 [INFO] src.core.mcp_integration: [MCP][connect.start] server=Paper Search type=http url=https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp timeout=30.0
2025-12-22 09:13:30,644 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=Paper Search url=https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp headers=['Authorization']
2025-12-22 09:13:30,869 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:30,869 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=semantic_scholar err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:30,870 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=semantic_scholar full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:30,870 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=semantic_scholar failed after 3 attempts
2025-12-22 09:13:30,870 [INFO] src.core.mcp_integration: Connecting to MCP server TodoList (timeout: 30.0s, attempt 1/3)...
2025-12-22 09:13:30,870 [INFO] src.core.mcp_integration: [MCP][connect.start] server=TodoList type=http url=https://server.smithery.ai/todoist/mcp timeout=30.0
2025-12-22 09:13:30,871 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=TodoList url=https://server.smithery.ai/todoist/mcp headers=['Authorization']
2025-12-22 09:13:31,086 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:31,087 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Paper Search err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:31,087 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Paper Search full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:31,087 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=Paper Search connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:13:31,101 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/google_search_console/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:31,102 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Google search console err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/google_search_console/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:31,102 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Google search console full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/google_search_console/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:31,103 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=Google search console connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:13:31,347 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/todoist/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:31,348 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=TodoList err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/todoist/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:31,349 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=TodoList full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/todoist/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:31,349 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=TodoList connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:13:32,089 [INFO] src.core.mcp_integration: Connecting to MCP server Paper Search (timeout: 30.0s, attempt 2/3)...
2025-12-22 09:13:32,090 [INFO] src.core.mcp_integration: [MCP][connect.start] server=Paper Search type=http url=https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp timeout=30.0
2025-12-22 09:13:32,090 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=Paper Search url=https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp headers=['Authorization']
2025-12-22 09:13:32,109 [INFO] src.core.mcp_integration: Connecting to MCP server Google search console (timeout: 30.0s, attempt 2/3)...
2025-12-22 09:13:32,109 [INFO] src.core.mcp_integration: [MCP][connect.start] server=Google search console type=http url=https://server.smithery.ai/google_search_console/mcp timeout=30.0
2025-12-22 09:13:32,109 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=Google search console url=https://server.smithery.ai/google_search_console/mcp headers=['Authorization']
2025-12-22 09:13:32,350 [INFO] src.core.mcp_integration: Connecting to MCP server TodoList (timeout: 30.0s, attempt 2/3)...
2025-12-22 09:13:32,351 [INFO] src.core.mcp_integration: [MCP][connect.start] server=TodoList type=http url=https://server.smithery.ai/todoist/mcp timeout=30.0
2025-12-22 09:13:32,351 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=TodoList url=https://server.smithery.ai/todoist/mcp headers=['Authorization']
2025-12-22 09:13:32,551 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/google_search_console/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:32,552 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Google search console err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/google_search_console/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:32,552 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Google search console full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/google_search_console/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:32,553 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=Google search console connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:13:32,556 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:32,557 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Paper Search err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:32,557 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Paper Search full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:32,558 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=Paper Search connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:13:32,816 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/todoist/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:32,816 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=TodoList err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/todoist/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:32,817 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=TodoList full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/todoist/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:32,817 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=TodoList connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:13:34,555 [INFO] src.core.mcp_integration: Connecting to MCP server Google search console (timeout: 30.0s, attempt 3/3)...
2025-12-22 09:13:34,556 [INFO] src.core.mcp_integration: [MCP][connect.start] server=Google search console type=http url=https://server.smithery.ai/google_search_console/mcp timeout=30.0
2025-12-22 09:13:34,556 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=Google search console url=https://server.smithery.ai/google_search_console/mcp headers=['Authorization']
2025-12-22 09:13:34,573 [INFO] src.core.mcp_integration: Connecting to MCP server Paper Search (timeout: 30.0s, attempt 3/3)...
2025-12-22 09:13:34,573 [INFO] src.core.mcp_integration: [MCP][connect.start] server=Paper Search type=http url=https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp timeout=30.0
2025-12-22 09:13:34,573 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=Paper Search url=https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp headers=['Authorization']
2025-12-22 09:13:34,819 [INFO] src.core.mcp_integration: Connecting to MCP server TodoList (timeout: 30.0s, attempt 3/3)...
2025-12-22 09:13:34,819 [INFO] src.core.mcp_integration: [MCP][connect.start] server=TodoList type=http url=https://server.smithery.ai/todoist/mcp timeout=30.0
2025-12-22 09:13:34,819 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=TodoList url=https://server.smithery.ai/todoist/mcp headers=['Authorization']
2025-12-22 09:13:35,021 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/google_search_console/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:35,021 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Google search console err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/google_search_console/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:35,021 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Google search console full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/google_search_console/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:35,022 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=Google search console failed after 3 attempts
2025-12-22 09:13:35,022 [INFO] src.core.mcp_integration: Connecting to MCP server arxiv (timeout: 60.0s, attempt 1/3)...
2025-12-22 09:13:35,022 [INFO] src.core.mcp_integration: [MCP][connect.start] server=arxiv type=stdio url=None timeout=60.0
2025-12-22 09:13:35,022 [INFO] src.core.mcp_integration: [MCP][stdio.connect] server=arxiv command=npx args=['-y', '@modelcontextprotocol/server-arxiv@latest']
2025-12-22 09:13:35,031 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:35,031 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Paper Search err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:35,031 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Paper Search full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:35,032 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=Paper Search failed after 3 attempts
2025-12-22 09:13:35,032 [INFO] src.core.mcp_integration: Connecting to MCP server kis MCP (timeout: 30.0s, attempt 1/3)...
2025-12-22 09:13:35,032 [INFO] src.core.mcp_integration: [MCP][connect.start] server=kis MCP type=http url=https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp timeout=30.0
2025-12-22 09:13:35,033 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=kis MCP url=https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp headers=['Authorization']
2025-12-22 09:13:35,304 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/todoist/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:35,305 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=TodoList err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/todoist/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:35,305 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=TodoList full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/todoist/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:35,306 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=TodoList failed after 3 attempts
2025-12-22 09:13:35,424 [ERROR] src.core.mcp_integration: [MCP][stdio.connect] Failed to connect to arxiv: Client failed to connect: Connection closed
  + Exception Group Traceback (most recent call last):
  |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 63, in handle_exception
  |     raise matched
  | ExceptionGroup:  (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    |     await stack.enter_async_context(self._context_manager())
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    |     result = await _enter(cm)
    |              ^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    |     return await anext(self.gen)
    |            ^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    |     result = handler(matched)
    |              ^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    |     raise leaf
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 362, in _context_manager
    |     await self._session_state.session.initialize()
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/session.py", line 152, in initialize
    |     result = await self.send_request(
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/shared/session.py", line 288, in send_request
    |     raise McpError(response_or_error.error)
    | mcp.shared.exceptions.McpError: Connection closed
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 362, in _context_manager
    await self._session_state.session.initialize()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/session.py", line 152, in initialize
    result = await self.send_request(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/shared/session.py", line 288, in send_request
    raise McpError(response_or_error.error)
mcp.shared.exceptions.McpError: Connection closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1065, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 419, in _connect
    raise RuntimeError(
RuntimeError: Client failed to connect: Connection closed
2025-12-22 09:13:35,425 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=arxiv connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:13:35,513 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:35,514 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=kis MCP err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:35,514 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=kis MCP full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:35,515 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=kis MCP connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:13:36,427 [INFO] src.core.mcp_integration: Connecting to MCP server arxiv (timeout: 60.0s, attempt 2/3)...
2025-12-22 09:13:36,427 [INFO] src.core.mcp_integration: [MCP][connect.start] server=arxiv type=stdio url=None timeout=60.0
2025-12-22 09:13:36,427 [INFO] src.core.mcp_integration: [MCP][stdio.connect] server=arxiv command=npx args=['-y', '@modelcontextprotocol/server-arxiv@latest']
2025-12-22 09:13:36,516 [INFO] src.core.mcp_integration: Connecting to MCP server kis MCP (timeout: 30.0s, attempt 2/3)...
2025-12-22 09:13:36,516 [INFO] src.core.mcp_integration: [MCP][connect.start] server=kis MCP type=http url=https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp timeout=30.0
2025-12-22 09:13:36,516 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=kis MCP url=https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp headers=['Authorization']
2025-12-22 09:13:36,848 [ERROR] src.core.mcp_integration: [MCP][stdio.connect] Failed to connect to arxiv: Client failed to connect: Connection closed
  + Exception Group Traceback (most recent call last):
  |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 63, in handle_exception
  |     raise matched
  | ExceptionGroup:  (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    |     await stack.enter_async_context(self._context_manager())
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    |     result = await _enter(cm)
    |              ^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    |     return await anext(self.gen)
    |            ^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    |     result = handler(matched)
    |              ^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    |     raise leaf
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 362, in _context_manager
    |     await self._session_state.session.initialize()
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/session.py", line 152, in initialize
    |     result = await self.send_request(
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/shared/session.py", line 288, in send_request
    |     raise McpError(response_or_error.error)
    | mcp.shared.exceptions.McpError: Connection closed
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 362, in _context_manager
    await self._session_state.session.initialize()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/session.py", line 152, in initialize
    result = await self.send_request(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/shared/session.py", line 288, in send_request
    raise McpError(response_or_error.error)
mcp.shared.exceptions.McpError: Connection closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1065, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 419, in _connect
    raise RuntimeError(
RuntimeError: Client failed to connect: Connection closed
2025-12-22 09:13:36,849 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=arxiv connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:13:36,970 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:36,970 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=kis MCP err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:36,971 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=kis MCP full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:36,971 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=kis MCP connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:13:38,852 [INFO] src.core.mcp_integration: Connecting to MCP server arxiv (timeout: 60.0s, attempt 3/3)...
2025-12-22 09:13:38,852 [INFO] src.core.mcp_integration: [MCP][connect.start] server=arxiv type=stdio url=None timeout=60.0
2025-12-22 09:13:38,852 [INFO] src.core.mcp_integration: [MCP][stdio.connect] server=arxiv command=npx args=['-y', '@modelcontextprotocol/server-arxiv@latest']
2025-12-22 09:13:38,973 [INFO] src.core.mcp_integration: Connecting to MCP server kis MCP (timeout: 30.0s, attempt 3/3)...
2025-12-22 09:13:38,973 [INFO] src.core.mcp_integration: [MCP][connect.start] server=kis MCP type=http url=https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp timeout=30.0
2025-12-22 09:13:38,973 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=kis MCP url=https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp headers=['Authorization']
2025-12-22 09:13:39,260 [ERROR] src.core.mcp_integration: [MCP][stdio.connect] Failed to connect to arxiv: Client failed to connect: Connection closed
  + Exception Group Traceback (most recent call last):
  |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 63, in handle_exception
  |     raise matched
  | ExceptionGroup:  (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    |     await stack.enter_async_context(self._context_manager())
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    |     result = await _enter(cm)
    |              ^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    |     return await anext(self.gen)
    |            ^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    |     result = handler(matched)
    |              ^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    |     raise leaf
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 362, in _context_manager
    |     await self._session_state.session.initialize()
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/session.py", line 152, in initialize
    |     result = await self.send_request(
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/shared/session.py", line 288, in send_request
    |     raise McpError(response_or_error.error)
    | mcp.shared.exceptions.McpError: Connection closed
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 362, in _context_manager
    await self._session_state.session.initialize()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/session.py", line 152, in initialize
    result = await self.send_request(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/shared/session.py", line 288, in send_request
    raise McpError(response_or_error.error)
mcp.shared.exceptions.McpError: Connection closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1065, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 419, in _connect
    raise RuntimeError(
RuntimeError: Client failed to connect: Connection closed
2025-12-22 09:13:39,261 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=arxiv failed after 3 attempts
2025-12-22 09:13:39,449 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:39,450 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=kis MCP err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:39,450 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=kis MCP full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:39,451 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=kis MCP failed after 3 attempts
2025-12-22 09:13:39,451 [WARNING] src.core.mcp_integration: ‚ö†Ô∏è No MCP servers connected successfully
2025-12-22 09:13:39,451 [INFO] src.core.mcp_integration: ‚úÖ MCP Hub initialized (OpenRouter disabled)
2025-12-22 09:13:39,451 [INFO] src.core.mcp_integration: Available tools: 9
2025-12-22 09:13:39,451 [INFO] src.core.mcp_integration: MCP servers: []
2025-12-22 09:13:39,451 [INFO] src.core.mcp_integration: Primary model: google/gemini-2.5-flash-lite
2025-12-22 09:13:39,451 [INFO] src.core.mcp_integration: [MCP][diagnostics] server connection summary
2025-12-22 09:13:39,451 [INFO] src.core.mcp_integration: [MCP][diag] server=fetch type=http url=https://server.smithery.ai/@smithery-ai/fetch/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/@smithery-ai/fetch/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:39,451 [INFO] src.core.mcp_integration: [MCP][diag] server=docfork type=http url=https://server.smithery.ai/@docfork/mcp/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/@docfork/mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:39,451 [INFO] src.core.mcp_integration: [MCP][diag] server=context7-mcp type=http url=https://server.smithery.ai/@upstash/context7-mcp/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/@upstash/context7-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:39,451 [INFO] src.core.mcp_integration: [MCP][diag] server=semantic_scholar type=http url=https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:39,451 [INFO] src.core.mcp_integration: [MCP][diag] server=parallel-search type=http url=https://server.smithery.ai/@parallel/search/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/@parallel/search/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:39,451 [INFO] src.core.mcp_integration: [MCP][diag] server=WebSearch-MCP type=http url=https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:39,451 [INFO] src.core.mcp_integration: [MCP][diag] server=Google search console type=http url=https://server.smithery.ai/google_search_console/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/google_search_console/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:39,451 [INFO] src.core.mcp_integration: [MCP][diag] server=Paper Search type=http url=https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:39,451 [INFO] src.core.mcp_integration: [MCP][diag] server=TodoList type=http url=https://server.smithery.ai/todoist/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/todoist/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:39,451 [INFO] src.core.mcp_integration: [MCP][diag] server=arxiv type=stdio url=None stage=failed ok=False init_ms=- list_ms=- err=Client failed to connect: Connection closed
2025-12-22 09:13:39,451 [INFO] src.core.mcp_integration: [MCP][diag] server=kis MCP type=http url=https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:39,451 [INFO] src.core.mcp_integration: Validating essential tools availability...
2025-12-22 09:13:39,452 [INFO] src.core.mcp_integration: Registered tools: ['g-search', 'fetch', 'filesystem', 'python_coder', 'code_interpreter', 'arxiv', 'scholar', 'ddg_search']
2025-12-22 09:13:39,452 [INFO] src.core.mcp_integration: ‚úÖ Found essential tool: g-search
2025-12-22 09:13:39,452 [INFO] src.core.mcp_integration: ‚úÖ Found essential tool: fetch
2025-12-22 09:13:39,452 [INFO] src.core.mcp_integration: ‚úÖ Found essential tool: filesystem
2025-12-22 09:13:39,452 [INFO] src.core.mcp_integration: ‚úÖ All essential tools found in registry
2025-12-22 09:13:39,452 [INFO] src.core.mcp_integration: [MCP][_execute_search_tool] Trying search servers in order: ['WebSearch-MCP', 'fetch', 'docfork', 'context7-mcp', 'semantic_scholar', 'parallel-search', 'Google search console', 'Paper Search', 'TodoList', 'arxiv', 'kis MCP']
2025-12-22 09:13:39,452 [INFO] src.core.mcp_integration: [MCP][_execute_search_tool] üîç Attempting server WebSearch-MCP (1/11)
2025-12-22 09:13:39,452 [INFO] src.core.mcp_integration: MCP server WebSearch-MCP not connected, attempting connection (timeout: 10s)...
2025-12-22 09:13:39,452 [INFO] src.core.mcp_integration: [MCP][connect.start] server=WebSearch-MCP type=http url=https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp timeout=60.0
2025-12-22 09:13:39,452 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=WebSearch-MCP url=https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp headers=['Authorization']
2025-12-22 09:13:39,914 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:39,915 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=WebSearch-MCP err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:39,915 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=WebSearch-MCP full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:39,916 [WARNING] src.core.mcp_integration: [MCP][_execute_search_tool] ‚ö†Ô∏è Connection to WebSearch-MCP failed (attempt 1/3), retrying in 1s...
2025-12-22 09:13:40,917 [INFO] src.core.mcp_integration: [MCP][connect.start] server=WebSearch-MCP type=http url=https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp timeout=60.0
2025-12-22 09:13:40,918 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=WebSearch-MCP url=https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp headers=['Authorization']
2025-12-22 09:13:41,403 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:41,404 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=WebSearch-MCP err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:41,404 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=WebSearch-MCP full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:41,405 [WARNING] src.core.mcp_integration: [MCP][_execute_search_tool] ‚ö†Ô∏è Connection to WebSearch-MCP failed (attempt 2/3), retrying in 2s...
2025-12-22 09:13:43,407 [INFO] src.core.mcp_integration: [MCP][connect.start] server=WebSearch-MCP type=http url=https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp timeout=60.0
2025-12-22 09:13:43,408 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=WebSearch-MCP url=https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp headers=['Authorization']
2025-12-22 09:13:43,875 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:43,877 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=WebSearch-MCP err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:43,877 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=WebSearch-MCP full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:43,878 [WARNING] src.core.mcp_integration: [MCP][_execute_search_tool] ‚ùå Failed to connect to MCP server WebSearch-MCP after 3 attempts
2025-12-22 09:13:43,878 [INFO] src.core.mcp_integration: [MCP][_execute_search_tool] üîç Attempting server fetch (2/11)
2025-12-22 09:13:43,878 [INFO] src.core.mcp_integration: MCP server fetch not connected, attempting connection (timeout: 10s)...
2025-12-22 09:13:43,878 [INFO] src.core.mcp_integration: [MCP][connect.start] server=fetch type=http url=https://server.smithery.ai/@smithery-ai/fetch/mcp timeout=60.0
2025-12-22 09:13:43,879 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=fetch url=https://server.smithery.ai/@smithery-ai/fetch/mcp headers=['Authorization']
2025-12-22 09:13:44,330 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@smithery-ai/fetch/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:44,331 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=fetch err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@smithery-ai/fetch/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:44,331 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=fetch full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@smithery-ai/fetch/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:44,332 [WARNING] src.core.mcp_integration: [MCP][_execute_search_tool] ‚ö†Ô∏è Connection to fetch failed (attempt 1/3), retrying in 1s...
2025-12-22 09:13:45,333 [INFO] src.core.mcp_integration: [MCP][connect.start] server=fetch type=http url=https://server.smithery.ai/@smithery-ai/fetch/mcp timeout=60.0
2025-12-22 09:13:45,334 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=fetch url=https://server.smithery.ai/@smithery-ai/fetch/mcp headers=['Authorization']
2025-12-22 09:13:45,789 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@smithery-ai/fetch/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:45,790 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=fetch err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@smithery-ai/fetch/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:45,790 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=fetch full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@smithery-ai/fetch/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:45,791 [WARNING] src.core.mcp_integration: [MCP][_execute_search_tool] ‚ö†Ô∏è Connection to fetch failed (attempt 2/3), retrying in 2s...
2025-12-22 09:13:47,791 [INFO] src.core.mcp_integration: [MCP][connect.start] server=fetch type=http url=https://server.smithery.ai/@smithery-ai/fetch/mcp timeout=60.0
2025-12-22 09:13:47,792 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=fetch url=https://server.smithery.ai/@smithery-ai/fetch/mcp headers=['Authorization']
2025-12-22 09:13:48,260 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@smithery-ai/fetch/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:48,261 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=fetch err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@smithery-ai/fetch/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:48,261 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=fetch full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@smithery-ai/fetch/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:48,262 [WARNING] src.core.mcp_integration: [MCP][_execute_search_tool] ‚ùå Failed to connect to MCP server fetch after 3 attempts
2025-12-22 09:13:48,262 [INFO] src.core.mcp_integration: [MCP][_execute_search_tool] üîç Attempting server docfork (3/11)
2025-12-22 09:13:48,262 [INFO] src.core.mcp_integration: MCP server docfork not connected, attempting connection (timeout: 10s)...
2025-12-22 09:13:48,262 [INFO] src.core.mcp_integration: [MCP][connect.start] server=docfork type=http url=https://server.smithery.ai/@docfork/mcp/mcp timeout=60.0
2025-12-22 09:13:48,262 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=docfork url=https://server.smithery.ai/@docfork/mcp/mcp headers=['Authorization']
2025-12-22 09:13:48,709 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@docfork/mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:48,709 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=docfork err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@docfork/mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:48,710 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=docfork full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@docfork/mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:48,710 [WARNING] src.core.mcp_integration: [MCP][_execute_search_tool] ‚ö†Ô∏è Connection to docfork failed (attempt 1/3), retrying in 1s...
2025-12-22 09:13:49,712 [INFO] src.core.mcp_integration: [MCP][connect.start] server=docfork type=http url=https://server.smithery.ai/@docfork/mcp/mcp timeout=60.0
2025-12-22 09:13:49,712 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=docfork url=https://server.smithery.ai/@docfork/mcp/mcp headers=['Authorization']
2025-12-22 09:13:50,162 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@docfork/mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:50,163 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=docfork err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@docfork/mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:50,163 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=docfork full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@docfork/mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:50,164 [WARNING] src.core.mcp_integration: [MCP][_execute_search_tool] ‚ö†Ô∏è Connection to docfork failed (attempt 2/3), retrying in 2s...
2025-12-22 09:13:52,166 [INFO] src.core.mcp_integration: [MCP][connect.start] server=docfork type=http url=https://server.smithery.ai/@docfork/mcp/mcp timeout=60.0
2025-12-22 09:13:52,167 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=docfork url=https://server.smithery.ai/@docfork/mcp/mcp headers=['Authorization']
2025-12-22 09:13:52,646 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@docfork/mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:52,647 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=docfork err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@docfork/mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:52,647 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=docfork full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@docfork/mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:52,648 [WARNING] src.core.mcp_integration: [MCP][_execute_search_tool] ‚ùå Failed to connect to MCP server docfork after 3 attempts
2025-12-22 09:13:52,648 [INFO] src.core.mcp_integration: [MCP][_execute_search_tool] üîç Attempting server context7-mcp (4/11)
2025-12-22 09:13:52,648 [INFO] src.core.mcp_integration: MCP server context7-mcp not connected, attempting connection (timeout: 10s)...
2025-12-22 09:13:52,648 [INFO] src.core.mcp_integration: [MCP][connect.start] server=context7-mcp type=http url=https://server.smithery.ai/@upstash/context7-mcp/mcp timeout=60.0
2025-12-22 09:13:52,648 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=context7-mcp url=https://server.smithery.ai/@upstash/context7-mcp/mcp headers=['Authorization']
2025-12-22 09:13:53,105 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@upstash/context7-mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:53,107 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=context7-mcp err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@upstash/context7-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:53,107 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=context7-mcp full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@upstash/context7-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:53,108 [WARNING] src.core.mcp_integration: [MCP][_execute_search_tool] ‚ö†Ô∏è Connection to context7-mcp failed (attempt 1/3), retrying in 1s...
2025-12-22 09:13:54,110 [INFO] src.core.mcp_integration: [MCP][connect.start] server=context7-mcp type=http url=https://server.smithery.ai/@upstash/context7-mcp/mcp timeout=60.0
2025-12-22 09:13:54,110 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=context7-mcp url=https://server.smithery.ai/@upstash/context7-mcp/mcp headers=['Authorization']
2025-12-22 09:13:54,601 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@upstash/context7-mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:54,602 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=context7-mcp err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@upstash/context7-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:54,602 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=context7-mcp full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@upstash/context7-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:54,604 [WARNING] src.core.mcp_integration: [MCP][_execute_search_tool] ‚ö†Ô∏è Connection to context7-mcp failed (attempt 2/3), retrying in 2s...
2025-12-22 09:13:56,606 [INFO] src.core.mcp_integration: [MCP][connect.start] server=context7-mcp type=http url=https://server.smithery.ai/@upstash/context7-mcp/mcp timeout=60.0
2025-12-22 09:13:56,607 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=context7-mcp url=https://server.smithery.ai/@upstash/context7-mcp/mcp headers=['Authorization']
2025-12-22 09:13:57,098 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@upstash/context7-mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:57,098 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=context7-mcp err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@upstash/context7-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:57,099 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=context7-mcp full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@upstash/context7-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:57,099 [WARNING] src.core.mcp_integration: [MCP][_execute_search_tool] ‚ùå Failed to connect to MCP server context7-mcp after 3 attempts
2025-12-22 09:13:57,099 [INFO] src.core.mcp_integration: [MCP][_execute_search_tool] üîç Attempting server semantic_scholar (5/11)
2025-12-22 09:13:57,099 [INFO] src.core.mcp_integration: MCP server semantic_scholar not connected, attempting connection (timeout: 10s)...
2025-12-22 09:13:57,100 [INFO] src.core.mcp_integration: [MCP][connect.start] server=semantic_scholar type=http url=https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp timeout=20.0
2025-12-22 09:13:57,100 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=semantic_scholar url=https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp headers=['Authorization']
2025-12-22 09:13:57,569 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:57,569 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=semantic_scholar err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:57,570 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=semantic_scholar full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:57,570 [WARNING] src.core.mcp_integration: [MCP][_execute_search_tool] ‚ö†Ô∏è Connection to semantic_scholar failed (attempt 1/3), retrying in 1s...
2025-12-22 09:13:58,572 [INFO] src.core.mcp_integration: [MCP][connect.start] server=semantic_scholar type=http url=https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp timeout=20.0
2025-12-22 09:13:58,572 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=semantic_scholar url=https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp headers=['Authorization']
2025-12-22 09:13:59,030 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:13:59,030 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=semantic_scholar err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:59,030 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=semantic_scholar full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:13:59,031 [WARNING] src.core.mcp_integration: [MCP][_execute_search_tool] ‚ö†Ô∏è Connection to semantic_scholar failed (attempt 2/3), retrying in 2s...
2025-12-22 09:14:01,034 [INFO] src.core.mcp_integration: [MCP][connect.start] server=semantic_scholar type=http url=https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp timeout=20.0
2025-12-22 09:14:01,034 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=semantic_scholar url=https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp headers=['Authorization']
2025-12-22 09:14:01,542 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:01,543 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=semantic_scholar err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:01,543 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=semantic_scholar full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:01,544 [WARNING] src.core.mcp_integration: [MCP][_execute_search_tool] ‚ùå Failed to connect to MCP server semantic_scholar after 3 attempts
2025-12-22 09:14:01,544 [INFO] src.core.mcp_integration: [MCP][_execute_search_tool] üîç Attempting server parallel-search (6/11)
2025-12-22 09:14:01,544 [INFO] src.core.mcp_integration: MCP server parallel-search not connected, attempting connection (timeout: 10s)...
2025-12-22 09:14:01,544 [INFO] src.core.mcp_integration: [MCP][connect.start] server=parallel-search type=http url=https://server.smithery.ai/@parallel/search/mcp timeout=60.0
2025-12-22 09:14:01,544 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=parallel-search url=https://server.smithery.ai/@parallel/search/mcp headers=['Authorization']
2025-12-22 09:14:02,004 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@parallel/search/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:02,006 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=parallel-search err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@parallel/search/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:02,006 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=parallel-search full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@parallel/search/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:02,007 [WARNING] src.core.mcp_integration: [MCP][_execute_search_tool] ‚ö†Ô∏è Connection to parallel-search failed (attempt 1/3), retrying in 1s...
2025-12-22 09:14:03,008 [INFO] src.core.mcp_integration: [MCP][connect.start] server=parallel-search type=http url=https://server.smithery.ai/@parallel/search/mcp timeout=60.0
2025-12-22 09:14:03,009 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=parallel-search url=https://server.smithery.ai/@parallel/search/mcp headers=['Authorization']
2025-12-22 09:14:03,471 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@parallel/search/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:03,473 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=parallel-search err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@parallel/search/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:03,473 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=parallel-search full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@parallel/search/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:03,474 [WARNING] src.core.mcp_integration: [MCP][_execute_search_tool] ‚ö†Ô∏è Connection to parallel-search failed (attempt 2/3), retrying in 2s...
2025-12-22 09:14:05,476 [INFO] src.core.mcp_integration: [MCP][connect.start] server=parallel-search type=http url=https://server.smithery.ai/@parallel/search/mcp timeout=60.0
2025-12-22 09:14:05,477 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=parallel-search url=https://server.smithery.ai/@parallel/search/mcp headers=['Authorization']
2025-12-22 09:14:05,978 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@parallel/search/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:05,979 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=parallel-search err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@parallel/search/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:05,979 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=parallel-search full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@parallel/search/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:05,980 [WARNING] src.core.mcp_integration: [MCP][_execute_search_tool] ‚ùå Failed to connect to MCP server parallel-search after 3 attempts
2025-12-22 09:14:05,980 [INFO] src.core.mcp_integration: [MCP][_execute_search_tool] üîç Attempting server Google search console (7/11)
2025-12-22 09:14:05,980 [INFO] src.core.mcp_integration: MCP server Google search console not connected, attempting connection (timeout: 10s)...
2025-12-22 09:14:05,980 [INFO] src.core.mcp_integration: [MCP][connect.start] server=Google search console type=http url=https://server.smithery.ai/google_search_console/mcp timeout=30.0
2025-12-22 09:14:05,980 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=Google search console url=https://server.smithery.ai/google_search_console/mcp headers=['Authorization']
2025-12-22 09:14:06,440 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/google_search_console/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:06,441 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Google search console err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/google_search_console/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:06,441 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Google search console full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/google_search_console/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:06,441 [WARNING] src.core.mcp_integration: [MCP][_execute_search_tool] ‚ö†Ô∏è Connection to Google search console failed (attempt 1/3), retrying in 1s...
2025-12-22 09:14:07,443 [INFO] src.core.mcp_integration: [MCP][connect.start] server=Google search console type=http url=https://server.smithery.ai/google_search_console/mcp timeout=30.0
2025-12-22 09:14:07,443 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=Google search console url=https://server.smithery.ai/google_search_console/mcp headers=['Authorization']
2025-12-22 09:14:07,905 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/google_search_console/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:07,906 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Google search console err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/google_search_console/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:07,906 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Google search console full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/google_search_console/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:07,907 [WARNING] src.core.mcp_integration: [MCP][_execute_search_tool] ‚ö†Ô∏è Connection to Google search console failed (attempt 2/3), retrying in 2s...
2025-12-22 09:14:09,910 [INFO] src.core.mcp_integration: [MCP][connect.start] server=Google search console type=http url=https://server.smithery.ai/google_search_console/mcp timeout=30.0
2025-12-22 09:14:09,910 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=Google search console url=https://server.smithery.ai/google_search_console/mcp headers=['Authorization']
2025-12-22 09:14:10,369 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/google_search_console/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:10,370 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Google search console err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/google_search_console/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:10,370 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Google search console full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/google_search_console/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:10,371 [WARNING] src.core.mcp_integration: [MCP][_execute_search_tool] ‚ùå Failed to connect to MCP server Google search console after 3 attempts
2025-12-22 09:14:10,371 [INFO] src.core.mcp_integration: [MCP][_execute_search_tool] üîç Attempting server Paper Search (8/11)
2025-12-22 09:14:10,371 [INFO] src.core.mcp_integration: MCP server Paper Search not connected, attempting connection (timeout: 10s)...
2025-12-22 09:14:10,371 [INFO] src.core.mcp_integration: [MCP][connect.start] server=Paper Search type=http url=https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp timeout=30.0
2025-12-22 09:14:10,371 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=Paper Search url=https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp headers=['Authorization']
2025-12-22 09:14:10,836 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:10,837 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Paper Search err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:10,837 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Paper Search full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:10,838 [WARNING] src.core.mcp_integration: [MCP][_execute_search_tool] ‚ö†Ô∏è Connection to Paper Search failed (attempt 1/3), retrying in 1s...
2025-12-22 09:14:11,840 [INFO] src.core.mcp_integration: [MCP][connect.start] server=Paper Search type=http url=https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp timeout=30.0
2025-12-22 09:14:11,840 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=Paper Search url=https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp headers=['Authorization']
2025-12-22 09:14:12,291 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:12,292 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Paper Search err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:12,292 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Paper Search full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:12,293 [WARNING] src.core.mcp_integration: [MCP][_execute_search_tool] ‚ö†Ô∏è Connection to Paper Search failed (attempt 2/3), retrying in 2s...
2025-12-22 09:14:14,295 [INFO] src.core.mcp_integration: [MCP][connect.start] server=Paper Search type=http url=https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp timeout=30.0
2025-12-22 09:14:14,296 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=Paper Search url=https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp headers=['Authorization']
2025-12-22 09:14:14,770 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:14,771 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Paper Search err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:14,771 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Paper Search full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:14,772 [WARNING] src.core.mcp_integration: [MCP][_execute_search_tool] ‚ùå Failed to connect to MCP server Paper Search after 3 attempts
2025-12-22 09:14:14,772 [INFO] src.core.mcp_integration: [MCP][_execute_search_tool] üîç Attempting server TodoList (9/11)
2025-12-22 09:14:14,772 [INFO] src.core.mcp_integration: MCP server TodoList not connected, attempting connection (timeout: 10s)...
2025-12-22 09:14:14,772 [INFO] src.core.mcp_integration: [MCP][connect.start] server=TodoList type=http url=https://server.smithery.ai/todoist/mcp timeout=30.0
2025-12-22 09:14:14,772 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=TodoList url=https://server.smithery.ai/todoist/mcp headers=['Authorization']
2025-12-22 09:14:15,249 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/todoist/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:15,250 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=TodoList err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/todoist/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:15,250 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=TodoList full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/todoist/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:15,251 [WARNING] src.core.mcp_integration: [MCP][_execute_search_tool] ‚ö†Ô∏è Connection to TodoList failed (attempt 1/3), retrying in 1s...
2025-12-22 09:14:16,253 [INFO] src.core.mcp_integration: [MCP][connect.start] server=TodoList type=http url=https://server.smithery.ai/todoist/mcp timeout=30.0
2025-12-22 09:14:16,254 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=TodoList url=https://server.smithery.ai/todoist/mcp headers=['Authorization']
2025-12-22 09:14:16,770 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/todoist/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:16,771 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=TodoList err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/todoist/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:16,771 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=TodoList full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/todoist/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:16,772 [WARNING] src.core.mcp_integration: [MCP][_execute_search_tool] ‚ö†Ô∏è Connection to TodoList failed (attempt 2/3), retrying in 2s...
2025-12-22 09:14:18,775 [INFO] src.core.mcp_integration: [MCP][connect.start] server=TodoList type=http url=https://server.smithery.ai/todoist/mcp timeout=30.0
2025-12-22 09:14:18,775 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=TodoList url=https://server.smithery.ai/todoist/mcp headers=['Authorization']
2025-12-22 09:14:19,239 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/todoist/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:19,240 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=TodoList err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/todoist/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:19,240 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=TodoList full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/todoist/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:19,241 [WARNING] src.core.mcp_integration: [MCP][_execute_search_tool] ‚ùå Failed to connect to MCP server TodoList after 3 attempts
2025-12-22 09:14:19,241 [INFO] src.core.mcp_integration: [MCP][_execute_search_tool] üîç Attempting server arxiv (10/11)
2025-12-22 09:14:19,241 [INFO] src.core.mcp_integration: MCP server arxiv not connected, attempting connection (timeout: 10s)...
2025-12-22 09:14:19,241 [INFO] src.core.mcp_integration: [MCP][connect.start] server=arxiv type=stdio url=None timeout=60.0
2025-12-22 09:14:19,241 [INFO] src.core.mcp_integration: [MCP][stdio.connect] server=arxiv command=npx args=['-y', '@modelcontextprotocol/server-arxiv@latest']
2025-12-22 09:14:19,623 [ERROR] src.core.mcp_integration: [MCP][stdio.connect] Failed to connect to arxiv: Client failed to connect: Connection closed
  + Exception Group Traceback (most recent call last):
  |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 63, in handle_exception
  |     raise matched
  | ExceptionGroup:  (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    |     await stack.enter_async_context(self._context_manager())
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    |     result = await _enter(cm)
    |              ^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    |     return await anext(self.gen)
    |            ^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    |     result = handler(matched)
    |              ^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    |     raise leaf
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 362, in _context_manager
    |     await self._session_state.session.initialize()
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/session.py", line 152, in initialize
    |     result = await self.send_request(
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/shared/session.py", line 288, in send_request
    |     raise McpError(response_or_error.error)
    | mcp.shared.exceptions.McpError: Connection closed
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 362, in _context_manager
    await self._session_state.session.initialize()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/session.py", line 152, in initialize
    result = await self.send_request(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/shared/session.py", line 288, in send_request
    raise McpError(response_or_error.error)
mcp.shared.exceptions.McpError: Connection closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1065, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 419, in _connect
    raise RuntimeError(
RuntimeError: Client failed to connect: Connection closed
2025-12-22 09:14:19,625 [WARNING] src.core.mcp_integration: [MCP][_execute_search_tool] ‚ö†Ô∏è Connection to arxiv failed (attempt 1/3), retrying in 1s...
2025-12-22 09:14:20,626 [INFO] src.core.mcp_integration: [MCP][connect.start] server=arxiv type=stdio url=None timeout=60.0
2025-12-22 09:14:20,627 [INFO] src.core.mcp_integration: [MCP][stdio.connect] server=arxiv command=npx args=['-y', '@modelcontextprotocol/server-arxiv@latest']
2025-12-22 09:14:21,045 [ERROR] src.core.mcp_integration: [MCP][stdio.connect] Failed to connect to arxiv: Client failed to connect: Connection closed
  + Exception Group Traceback (most recent call last):
  |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 63, in handle_exception
  |     raise matched
  | ExceptionGroup:  (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    |     await stack.enter_async_context(self._context_manager())
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    |     result = await _enter(cm)
    |              ^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    |     return await anext(self.gen)
    |            ^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    |     result = handler(matched)
    |              ^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    |     raise leaf
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 362, in _context_manager
    |     await self._session_state.session.initialize()
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/session.py", line 152, in initialize
    |     result = await self.send_request(
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/shared/session.py", line 288, in send_request
    |     raise McpError(response_or_error.error)
    | mcp.shared.exceptions.McpError: Connection closed
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 362, in _context_manager
    await self._session_state.session.initialize()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/session.py", line 152, in initialize
    result = await self.send_request(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/shared/session.py", line 288, in send_request
    raise McpError(response_or_error.error)
mcp.shared.exceptions.McpError: Connection closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1065, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 419, in _connect
    raise RuntimeError(
RuntimeError: Client failed to connect: Connection closed
2025-12-22 09:14:21,046 [WARNING] src.core.mcp_integration: [MCP][_execute_search_tool] ‚ö†Ô∏è Connection to arxiv failed (attempt 2/3), retrying in 2s...
2025-12-22 09:14:23,049 [INFO] src.core.mcp_integration: [MCP][connect.start] server=arxiv type=stdio url=None timeout=60.0
2025-12-22 09:14:23,049 [INFO] src.core.mcp_integration: [MCP][stdio.connect] server=arxiv command=npx args=['-y', '@modelcontextprotocol/server-arxiv@latest']
2025-12-22 09:14:23,443 [ERROR] src.core.mcp_integration: [MCP][stdio.connect] Failed to connect to arxiv: Client failed to connect: Connection closed
  + Exception Group Traceback (most recent call last):
  |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 63, in handle_exception
  |     raise matched
  | ExceptionGroup:  (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    |     await stack.enter_async_context(self._context_manager())
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    |     result = await _enter(cm)
    |              ^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    |     return await anext(self.gen)
    |            ^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    |     result = handler(matched)
    |              ^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    |     raise leaf
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 362, in _context_manager
    |     await self._session_state.session.initialize()
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/session.py", line 152, in initialize
    |     result = await self.send_request(
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/shared/session.py", line 288, in send_request
    |     raise McpError(response_or_error.error)
    | mcp.shared.exceptions.McpError: Connection closed
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 362, in _context_manager
    await self._session_state.session.initialize()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/session.py", line 152, in initialize
    result = await self.send_request(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/shared/session.py", line 288, in send_request
    raise McpError(response_or_error.error)
mcp.shared.exceptions.McpError: Connection closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1065, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 419, in _connect
    raise RuntimeError(
RuntimeError: Client failed to connect: Connection closed
2025-12-22 09:14:23,444 [WARNING] src.core.mcp_integration: [MCP][_execute_search_tool] ‚ùå Failed to connect to MCP server arxiv after 3 attempts
2025-12-22 09:14:23,444 [INFO] src.core.mcp_integration: [MCP][_execute_search_tool] üîç Attempting server kis MCP (11/11)
2025-12-22 09:14:23,444 [INFO] src.core.mcp_integration: MCP server kis MCP not connected, attempting connection (timeout: 10s)...
2025-12-22 09:14:23,444 [INFO] src.core.mcp_integration: [MCP][connect.start] server=kis MCP type=http url=https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp timeout=30.0
2025-12-22 09:14:23,444 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=kis MCP url=https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp headers=['Authorization']
2025-12-22 09:14:23,897 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:23,898 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=kis MCP err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:23,898 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=kis MCP full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:23,898 [WARNING] src.core.mcp_integration: [MCP][_execute_search_tool] ‚ö†Ô∏è Connection to kis MCP failed (attempt 1/3), retrying in 1s...
2025-12-22 09:14:24,900 [INFO] src.core.mcp_integration: [MCP][connect.start] server=kis MCP type=http url=https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp timeout=30.0
2025-12-22 09:14:24,901 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=kis MCP url=https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp headers=['Authorization']
2025-12-22 09:14:25,395 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:25,395 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=kis MCP err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:25,396 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=kis MCP full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:25,396 [WARNING] src.core.mcp_integration: [MCP][_execute_search_tool] ‚ö†Ô∏è Connection to kis MCP failed (attempt 2/3), retrying in 2s...
2025-12-22 09:14:27,399 [INFO] src.core.mcp_integration: [MCP][connect.start] server=kis MCP type=http url=https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp timeout=30.0
2025-12-22 09:14:27,399 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=kis MCP url=https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp headers=['Authorization']
2025-12-22 09:14:27,856 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:27,857 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=kis MCP err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:27,857 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=kis MCP full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:27,858 [WARNING] src.core.mcp_integration: [MCP][_execute_search_tool] ‚ùå Failed to connect to MCP server kis MCP after 3 attempts
2025-12-22 09:14:27,858 [WARNING] src.core.mcp_integration: [MCP][_execute_search_tool] ‚ö†Ô∏è All 11 MCP search servers failed for query: 'Python programming language'
2025-12-22 09:14:27,858 [INFO] src.core.mcp_integration: [MCP][_execute_search_tool] üìã Failed servers summary:
2025-12-22 09:14:27,859 [INFO] src.core.mcp_integration: [MCP][_execute_search_tool]   1. WebSearch-MCP: connection_failed
2025-12-22 09:14:27,859 [INFO] src.core.mcp_integration: [MCP][_execute_search_tool]   2. fetch: connection_failed
2025-12-22 09:14:27,859 [INFO] src.core.mcp_integration: [MCP][_execute_search_tool]   3. docfork: connection_failed
2025-12-22 09:14:27,859 [INFO] src.core.mcp_integration: [MCP][_execute_search_tool]   4. context7-mcp: connection_failed
2025-12-22 09:14:27,859 [INFO] src.core.mcp_integration: [MCP][_execute_search_tool]   5. semantic_scholar: connection_failed
2025-12-22 09:14:27,859 [INFO] src.core.mcp_integration: [MCP][_execute_search_tool]   6. parallel-search: connection_failed
2025-12-22 09:14:27,859 [INFO] src.core.mcp_integration: [MCP][_execute_search_tool]   7. Google search console: connection_failed
2025-12-22 09:14:27,859 [INFO] src.core.mcp_integration: [MCP][_execute_search_tool]   8. Paper Search: connection_failed
2025-12-22 09:14:27,859 [INFO] src.core.mcp_integration: [MCP][_execute_search_tool]   9. TodoList: connection_failed
2025-12-22 09:14:27,859 [INFO] src.core.mcp_integration: [MCP][_execute_search_tool]   10. arxiv: connection_failed
2025-12-22 09:14:27,860 [INFO] src.core.mcp_integration: [MCP][_execute_search_tool]   11. kis MCP: connection_failed
2025-12-22 09:14:27,860 [WARNING] src.core.mcp_integration: [MCP][_execute_search_tool] üîÑ Trying duckduckgo_search library fallback...
2025-12-22 09:14:27,860 [INFO] src.core.mcp_integration: [MCP][_execute_search_tool] üì¶ Importing duckduckgo_search library...
2025-12-22 09:14:27,882 [INFO] src.core.mcp_integration: [MCP][_execute_search_tool] ‚úÖ duckduckgo_search library imported successfully
2025-12-22 09:14:27,882 [INFO] src.core.mcp_integration: [MCP][_execute_search_tool] üîÑ Executing duckduckgo_search in executor...
2025-12-22 09:14:27,970 [INFO] primp: response: https://www.bing.com/search?q=Python+programming+language 200
2025-12-22 09:14:28,011 [INFO] src.core.mcp_integration: [MCP][_execute_search_tool] ‚úÖ duckduckgo_search executor completed: 3 results
2025-12-22 09:14:28,011 [INFO] src.core.mcp_integration: ‚úÖ Fallback search successful via duckduckgo_search library: 3 results
2025-12-22 09:14:28,012 [INFO] src.core.mcp_integration: [MCP][exec.route.success] g-search routing succeeded: success=True
2025-12-22 09:14:28,012 [ERROR] src.core.mcp_integration: [MCP][exec.route.error] g-search routing failed: [Errno 32] Broken pipe
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 2315, in execute_tool
    await output_manager.output_tool_execution(tool_exec_result)
  File "/home/user/workspace/mcp_agent/sparkleforge/src/utils/output_manager.py", line 262, in output_tool_execution
    await self.output(
  File "/home/user/workspace/mcp_agent/sparkleforge/src/utils/output_manager.py", line 231, in output
    print(formatted_message, flush=True)
BrokenPipeError: [Errno 32] Broken pipe
2025-12-22 09:14:28,013 [ERROR] __main__: ‚ùå [search] g-search ÏòàÏô∏ Î∞úÏÉù: [Errno 32] Broken pipe
2025-12-22 09:14:28,015 [ERROR] __main__:    Ïä§ÌÉù Ìä∏Î†àÏù¥Ïä§:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 2315, in execute_tool
    await output_manager.output_tool_execution(tool_exec_result)
  File "/home/user/workspace/mcp_agent/sparkleforge/src/utils/output_manager.py", line 262, in output_tool_execution
    await self.output(
  File "/home/user/workspace/mcp_agent/sparkleforge/src/utils/output_manager.py", line 231, in output
    print(formatted_message, flush=True)
BrokenPipeError: [Errno 32] Broken pipe

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/test_mcp_tool_call.py", line 273, in test_tool_execution
    result = await execute_tool(tool_name, params)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 3261, in execute_tool
    result = await mcp_hub.execute_tool(tool_name, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 2338, in execute_tool
    await output_manager.output_tool_execution(tool_exec_result)
  File "/home/user/workspace/mcp_agent/sparkleforge/src/utils/output_manager.py", line 262, in output_tool_execution
    await self.output(
  File "/home/user/workspace/mcp_agent/sparkleforge/src/utils/output_manager.py", line 231, in output
    print(formatted_message, flush=True)
BrokenPipeError: [Errno 32] Broken pipe

2025-12-22 09:14:29,017 [INFO] __main__: üß™ [search] tavily ÌÖåÏä§Ìä∏ ÏãúÏûë
2025-12-22 09:14:29,017 [INFO] __main__:    ÌååÎùºÎØ∏ÌÑ∞: {
  "query": "Machine learning basics",
  "max_results": 3
}
2025-12-22 09:14:29,018 [INFO] src.core.mcp_integration: [MCP][execute_tool] MCP Hub not initialized, initializing...
2025-12-22 09:14:29,078 [INFO] httpx: HTTP Request: GET http://localhost:8080/api/vm/list "HTTP/1.1 500 Internal Server Error"
2025-12-22 09:14:29,134 [INFO] httpx: HTTP Request: GET http://localhost:8080/api/vm/list "HTTP/1.1 500 Internal Server Error"
2025-12-22 09:14:29,135 [WARNING] src.core.era_server_manager: Port 8080 is already in use. Assuming ERA server is running externally.
2025-12-22 09:14:29,135 [INFO] src.core.mcp_integration: ‚úÖ ERA server is running (safe code execution enabled)
2025-12-22 09:14:29,135 [INFO] src.core.mcp_integration: Initializing MCP Hub with MCP servers (no OpenRouter)...
2025-12-22 09:14:29,135 [INFO] src.core.mcp_integration: [MCP][init.batch] Waiting 3.0s for batch initialization before connecting servers...
2025-12-22 09:14:32,139 [INFO] src.core.mcp_integration: [MCP][init] max_concurrency=3, timeout_per_server=60.0s
2025-12-22 09:14:32,139 [INFO] src.core.mcp_integration: [MCP][allowlist] not set; connecting to all enabled servers: ['fetch', 'docfork', 'context7-mcp', 'semantic_scholar', 'parallel-search', 'WebSearch-MCP', 'Google search console', 'Paper Search', 'TodoList', 'arxiv', 'kis MCP']
2025-12-22 09:14:32,141 [INFO] src.core.mcp_integration: Connecting to MCP server fetch (timeout: 60.0s, attempt 1/3)...
2025-12-22 09:14:32,141 [INFO] src.core.mcp_integration: [MCP][connect.start] server=fetch type=http url=https://server.smithery.ai/@smithery-ai/fetch/mcp timeout=60.0
2025-12-22 09:14:32,142 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=fetch url=https://server.smithery.ai/@smithery-ai/fetch/mcp headers=['Authorization']
2025-12-22 09:14:32,142 [INFO] src.core.mcp_integration: Connecting to MCP server docfork (timeout: 60.0s, attempt 1/3)...
2025-12-22 09:14:32,142 [INFO] src.core.mcp_integration: [MCP][connect.start] server=docfork type=http url=https://server.smithery.ai/@docfork/mcp/mcp timeout=60.0
2025-12-22 09:14:32,142 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=docfork url=https://server.smithery.ai/@docfork/mcp/mcp headers=['Authorization']
2025-12-22 09:14:32,142 [INFO] src.core.mcp_integration: Connecting to MCP server context7-mcp (timeout: 60.0s, attempt 1/3)...
2025-12-22 09:14:32,142 [INFO] src.core.mcp_integration: [MCP][connect.start] server=context7-mcp type=http url=https://server.smithery.ai/@upstash/context7-mcp/mcp timeout=60.0
2025-12-22 09:14:32,143 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=context7-mcp url=https://server.smithery.ai/@upstash/context7-mcp/mcp headers=['Authorization']
2025-12-22 09:14:32,630 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@upstash/context7-mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:32,632 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=context7-mcp err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@upstash/context7-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:32,632 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=context7-mcp full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@upstash/context7-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:32,633 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=context7-mcp connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:14:32,635 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@smithery-ai/fetch/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:32,635 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=fetch err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@smithery-ai/fetch/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:32,636 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=fetch full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@smithery-ai/fetch/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:32,636 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=fetch connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:14:32,659 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@docfork/mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:32,659 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=docfork err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@docfork/mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:32,660 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=docfork full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@docfork/mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:32,660 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=docfork connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:14:33,635 [INFO] src.core.mcp_integration: Connecting to MCP server context7-mcp (timeout: 60.0s, attempt 2/3)...
2025-12-22 09:14:33,635 [INFO] src.core.mcp_integration: [MCP][connect.start] server=context7-mcp type=http url=https://server.smithery.ai/@upstash/context7-mcp/mcp timeout=60.0
2025-12-22 09:14:33,635 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=context7-mcp url=https://server.smithery.ai/@upstash/context7-mcp/mcp headers=['Authorization']
2025-12-22 09:14:33,654 [INFO] src.core.mcp_integration: Connecting to MCP server fetch (timeout: 60.0s, attempt 2/3)...
2025-12-22 09:14:33,654 [INFO] src.core.mcp_integration: [MCP][connect.start] server=fetch type=http url=https://server.smithery.ai/@smithery-ai/fetch/mcp timeout=60.0
2025-12-22 09:14:33,654 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=fetch url=https://server.smithery.ai/@smithery-ai/fetch/mcp headers=['Authorization']
2025-12-22 09:14:33,673 [INFO] src.core.mcp_integration: Connecting to MCP server docfork (timeout: 60.0s, attempt 2/3)...
2025-12-22 09:14:33,673 [INFO] src.core.mcp_integration: [MCP][connect.start] server=docfork type=http url=https://server.smithery.ai/@docfork/mcp/mcp timeout=60.0
2025-12-22 09:14:33,673 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=docfork url=https://server.smithery.ai/@docfork/mcp/mcp headers=['Authorization']
2025-12-22 09:14:34,108 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@upstash/context7-mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:34,109 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=context7-mcp err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@upstash/context7-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:34,109 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=context7-mcp full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@upstash/context7-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:34,110 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=context7-mcp connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:14:34,129 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@docfork/mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:34,130 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=docfork err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@docfork/mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:34,130 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=docfork full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@docfork/mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:34,131 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=docfork connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:14:34,136 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@smithery-ai/fetch/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:34,137 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=fetch err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@smithery-ai/fetch/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:34,137 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=fetch full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@smithery-ai/fetch/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:34,138 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=fetch connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:14:36,111 [INFO] src.core.mcp_integration: Connecting to MCP server context7-mcp (timeout: 60.0s, attempt 3/3)...
2025-12-22 09:14:36,112 [INFO] src.core.mcp_integration: [MCP][connect.start] server=context7-mcp type=http url=https://server.smithery.ai/@upstash/context7-mcp/mcp timeout=60.0
2025-12-22 09:14:36,112 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=context7-mcp url=https://server.smithery.ai/@upstash/context7-mcp/mcp headers=['Authorization']
2025-12-22 09:14:36,131 [INFO] src.core.mcp_integration: Connecting to MCP server docfork (timeout: 60.0s, attempt 3/3)...
2025-12-22 09:14:36,132 [INFO] src.core.mcp_integration: [MCP][connect.start] server=docfork type=http url=https://server.smithery.ai/@docfork/mcp/mcp timeout=60.0
2025-12-22 09:14:36,132 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=docfork url=https://server.smithery.ai/@docfork/mcp/mcp headers=['Authorization']
2025-12-22 09:14:36,150 [INFO] src.core.mcp_integration: Connecting to MCP server fetch (timeout: 60.0s, attempt 3/3)...
2025-12-22 09:14:36,150 [INFO] src.core.mcp_integration: [MCP][connect.start] server=fetch type=http url=https://server.smithery.ai/@smithery-ai/fetch/mcp timeout=60.0
2025-12-22 09:14:36,150 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=fetch url=https://server.smithery.ai/@smithery-ai/fetch/mcp headers=['Authorization']
2025-12-22 09:14:36,604 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@upstash/context7-mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:36,605 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@docfork/mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:36,606 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@smithery-ai/fetch/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:36,606 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=context7-mcp err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@upstash/context7-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:36,606 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=context7-mcp full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@upstash/context7-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:36,607 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=context7-mcp failed after 3 attempts
2025-12-22 09:14:36,607 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=docfork err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@docfork/mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:36,607 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=docfork full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@docfork/mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:36,608 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=docfork failed after 3 attempts
2025-12-22 09:14:36,608 [INFO] src.core.mcp_integration: Connecting to MCP server semantic_scholar (timeout: 20.0s, attempt 1/3)...
2025-12-22 09:14:36,608 [INFO] src.core.mcp_integration: [MCP][connect.start] server=semantic_scholar type=http url=https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp timeout=20.0
2025-12-22 09:14:36,608 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=semantic_scholar url=https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp headers=['Authorization']
2025-12-22 09:14:36,609 [INFO] src.core.mcp_integration: Connecting to MCP server parallel-search (timeout: 60.0s, attempt 1/3)...
2025-12-22 09:14:36,609 [INFO] src.core.mcp_integration: [MCP][connect.start] server=parallel-search type=http url=https://server.smithery.ai/@parallel/search/mcp timeout=60.0
2025-12-22 09:14:36,609 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=parallel-search url=https://server.smithery.ai/@parallel/search/mcp headers=['Authorization']
2025-12-22 09:14:36,644 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=fetch err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@smithery-ai/fetch/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:36,644 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=fetch full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@smithery-ai/fetch/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:36,645 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=fetch failed after 3 attempts
2025-12-22 09:14:36,645 [INFO] src.core.mcp_integration: Connecting to MCP server WebSearch-MCP (timeout: 60.0s, attempt 1/3)...
2025-12-22 09:14:36,646 [INFO] src.core.mcp_integration: [MCP][connect.start] server=WebSearch-MCP type=http url=https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp timeout=60.0
2025-12-22 09:14:36,646 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=WebSearch-MCP url=https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp headers=['Authorization']
2025-12-22 09:14:37,084 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@parallel/search/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:37,085 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=parallel-search err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@parallel/search/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:37,085 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=parallel-search full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@parallel/search/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:37,087 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=parallel-search connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:14:37,100 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:37,102 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=semantic_scholar err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:37,102 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=semantic_scholar full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:37,102 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=semantic_scholar connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:14:37,108 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:37,109 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=WebSearch-MCP err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:37,109 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=WebSearch-MCP full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:37,109 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=WebSearch-MCP connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:14:38,089 [INFO] src.core.mcp_integration: Connecting to MCP server parallel-search (timeout: 60.0s, attempt 2/3)...
2025-12-22 09:14:38,089 [INFO] src.core.mcp_integration: [MCP][connect.start] server=parallel-search type=http url=https://server.smithery.ai/@parallel/search/mcp timeout=60.0
2025-12-22 09:14:38,089 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=parallel-search url=https://server.smithery.ai/@parallel/search/mcp headers=['Authorization']
2025-12-22 09:14:38,108 [INFO] src.core.mcp_integration: Connecting to MCP server semantic_scholar (timeout: 20.0s, attempt 2/3)...
2025-12-22 09:14:38,108 [INFO] src.core.mcp_integration: [MCP][connect.start] server=semantic_scholar type=http url=https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp timeout=20.0
2025-12-22 09:14:38,108 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=semantic_scholar url=https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp headers=['Authorization']
2025-12-22 09:14:38,129 [INFO] src.core.mcp_integration: Connecting to MCP server WebSearch-MCP (timeout: 60.0s, attempt 2/3)...
2025-12-22 09:14:38,129 [INFO] src.core.mcp_integration: [MCP][connect.start] server=WebSearch-MCP type=http url=https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp timeout=60.0
2025-12-22 09:14:38,130 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=WebSearch-MCP url=https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp headers=['Authorization']
2025-12-22 09:14:38,582 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:38,582 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=semantic_scholar err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:38,582 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=semantic_scholar full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:38,583 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=semantic_scholar connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:14:38,585 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@parallel/search/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:38,586 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=parallel-search err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@parallel/search/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:38,586 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=parallel-search full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@parallel/search/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:38,586 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=parallel-search connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:14:38,600 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:38,600 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=WebSearch-MCP err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:38,601 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=WebSearch-MCP full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:38,601 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=WebSearch-MCP connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:14:40,586 [INFO] src.core.mcp_integration: Connecting to MCP server semantic_scholar (timeout: 20.0s, attempt 3/3)...
2025-12-22 09:14:40,587 [INFO] src.core.mcp_integration: [MCP][connect.start] server=semantic_scholar type=http url=https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp timeout=20.0
2025-12-22 09:14:40,587 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=semantic_scholar url=https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp headers=['Authorization']
2025-12-22 09:14:40,611 [INFO] src.core.mcp_integration: Connecting to MCP server parallel-search (timeout: 60.0s, attempt 3/3)...
2025-12-22 09:14:40,612 [INFO] src.core.mcp_integration: [MCP][connect.start] server=parallel-search type=http url=https://server.smithery.ai/@parallel/search/mcp timeout=60.0
2025-12-22 09:14:40,612 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=parallel-search url=https://server.smithery.ai/@parallel/search/mcp headers=['Authorization']
2025-12-22 09:14:40,633 [INFO] src.core.mcp_integration: Connecting to MCP server WebSearch-MCP (timeout: 60.0s, attempt 3/3)...
2025-12-22 09:14:40,633 [INFO] src.core.mcp_integration: [MCP][connect.start] server=WebSearch-MCP type=http url=https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp timeout=60.0
2025-12-22 09:14:40,634 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=WebSearch-MCP url=https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp headers=['Authorization']
2025-12-22 09:14:41,129 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@parallel/search/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:41,130 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=parallel-search err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@parallel/search/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:41,130 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=parallel-search full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@parallel/search/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:41,131 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=parallel-search failed after 3 attempts
2025-12-22 09:14:41,131 [INFO] src.core.mcp_integration: Connecting to MCP server Google search console (timeout: 30.0s, attempt 1/3)...
2025-12-22 09:14:41,131 [INFO] src.core.mcp_integration: [MCP][connect.start] server=Google search console type=http url=https://server.smithery.ai/google_search_console/mcp timeout=30.0
2025-12-22 09:14:41,131 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=Google search console url=https://server.smithery.ai/google_search_console/mcp headers=['Authorization']
2025-12-22 09:14:41,149 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:41,150 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:41,152 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=semantic_scholar err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:41,152 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=semantic_scholar full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:41,153 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=semantic_scholar failed after 3 attempts
2025-12-22 09:14:41,153 [INFO] src.core.mcp_integration: Connecting to MCP server Paper Search (timeout: 30.0s, attempt 1/3)...
2025-12-22 09:14:41,153 [INFO] src.core.mcp_integration: [MCP][connect.start] server=Paper Search type=http url=https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp timeout=30.0
2025-12-22 09:14:41,153 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=Paper Search url=https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp headers=['Authorization']
2025-12-22 09:14:41,154 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=WebSearch-MCP err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:41,154 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=WebSearch-MCP full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:41,154 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=WebSearch-MCP failed after 3 attempts
2025-12-22 09:14:41,173 [INFO] src.core.mcp_integration: Connecting to MCP server TodoList (timeout: 30.0s, attempt 1/3)...
2025-12-22 09:14:41,173 [INFO] src.core.mcp_integration: [MCP][connect.start] server=TodoList type=http url=https://server.smithery.ai/todoist/mcp timeout=30.0
2025-12-22 09:14:41,173 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=TodoList url=https://server.smithery.ai/todoist/mcp headers=['Authorization']
2025-12-22 09:14:41,636 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:41,636 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Paper Search err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:41,636 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Paper Search full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:41,637 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=Paper Search connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:14:41,638 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/google_search_console/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:41,638 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Google search console err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/google_search_console/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:41,638 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Google search console full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/google_search_console/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:41,639 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=Google search console connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:14:41,651 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/todoist/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:41,651 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=TodoList err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/todoist/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:41,652 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=TodoList full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/todoist/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:41,652 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=TodoList connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:14:42,639 [INFO] src.core.mcp_integration: Connecting to MCP server Paper Search (timeout: 30.0s, attempt 2/3)...
2025-12-22 09:14:42,639 [INFO] src.core.mcp_integration: [MCP][connect.start] server=Paper Search type=http url=https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp timeout=30.0
2025-12-22 09:14:42,639 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=Paper Search url=https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp headers=['Authorization']
2025-12-22 09:14:42,659 [INFO] src.core.mcp_integration: Connecting to MCP server Google search console (timeout: 30.0s, attempt 2/3)...
2025-12-22 09:14:42,660 [INFO] src.core.mcp_integration: [MCP][connect.start] server=Google search console type=http url=https://server.smithery.ai/google_search_console/mcp timeout=30.0
2025-12-22 09:14:42,660 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=Google search console url=https://server.smithery.ai/google_search_console/mcp headers=['Authorization']
2025-12-22 09:14:42,677 [INFO] src.core.mcp_integration: Connecting to MCP server TodoList (timeout: 30.0s, attempt 2/3)...
2025-12-22 09:14:42,677 [INFO] src.core.mcp_integration: [MCP][connect.start] server=TodoList type=http url=https://server.smithery.ai/todoist/mcp timeout=30.0
2025-12-22 09:14:42,677 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=TodoList url=https://server.smithery.ai/todoist/mcp headers=['Authorization']
2025-12-22 09:14:43,123 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:43,124 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Paper Search err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:43,125 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Paper Search full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:43,125 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=Paper Search connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:14:43,133 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/google_search_console/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:43,134 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Google search console err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/google_search_console/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:43,135 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Google search console full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/google_search_console/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:43,135 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=Google search console connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:14:43,151 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/todoist/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:43,152 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=TodoList err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/todoist/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:43,152 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=TodoList full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/todoist/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:43,153 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=TodoList connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:14:45,128 [INFO] src.core.mcp_integration: Connecting to MCP server Paper Search (timeout: 30.0s, attempt 3/3)...
2025-12-22 09:14:45,129 [INFO] src.core.mcp_integration: [MCP][connect.start] server=Paper Search type=http url=https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp timeout=30.0
2025-12-22 09:14:45,129 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=Paper Search url=https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp headers=['Authorization']
2025-12-22 09:14:45,150 [INFO] src.core.mcp_integration: Connecting to MCP server Google search console (timeout: 30.0s, attempt 3/3)...
2025-12-22 09:14:45,150 [INFO] src.core.mcp_integration: [MCP][connect.start] server=Google search console type=http url=https://server.smithery.ai/google_search_console/mcp timeout=30.0
2025-12-22 09:14:45,150 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=Google search console url=https://server.smithery.ai/google_search_console/mcp headers=['Authorization']
2025-12-22 09:14:45,169 [INFO] src.core.mcp_integration: Connecting to MCP server TodoList (timeout: 30.0s, attempt 3/3)...
2025-12-22 09:14:45,169 [INFO] src.core.mcp_integration: [MCP][connect.start] server=TodoList type=http url=https://server.smithery.ai/todoist/mcp timeout=30.0
2025-12-22 09:14:45,170 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=TodoList url=https://server.smithery.ai/todoist/mcp headers=['Authorization']
2025-12-22 09:14:45,625 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/google_search_console/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:45,626 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Google search console err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/google_search_console/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:45,626 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Google search console full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/google_search_console/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:45,627 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=Google search console failed after 3 attempts
2025-12-22 09:14:45,627 [INFO] src.core.mcp_integration: Connecting to MCP server arxiv (timeout: 60.0s, attempt 1/3)...
2025-12-22 09:14:45,628 [INFO] src.core.mcp_integration: [MCP][connect.start] server=arxiv type=stdio url=None timeout=60.0
2025-12-22 09:14:45,628 [INFO] src.core.mcp_integration: [MCP][stdio.connect] server=arxiv command=npx args=['-y', '@modelcontextprotocol/server-arxiv@latest']
2025-12-22 09:14:45,633 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:45,634 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Paper Search err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:45,634 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Paper Search full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:45,634 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=Paper Search failed after 3 attempts
2025-12-22 09:14:45,634 [INFO] src.core.mcp_integration: Connecting to MCP server kis MCP (timeout: 30.0s, attempt 1/3)...
2025-12-22 09:14:45,634 [INFO] src.core.mcp_integration: [MCP][connect.start] server=kis MCP type=http url=https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp timeout=30.0
2025-12-22 09:14:45,635 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=kis MCP url=https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp headers=['Authorization']
2025-12-22 09:14:45,653 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/todoist/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:45,655 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=TodoList err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/todoist/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:45,655 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=TodoList full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/todoist/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:45,656 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=TodoList failed after 3 attempts
2025-12-22 09:14:46,028 [ERROR] src.core.mcp_integration: [MCP][stdio.connect] Failed to connect to arxiv: Client failed to connect: Connection closed
  + Exception Group Traceback (most recent call last):
  |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 63, in handle_exception
  |     raise matched
  | ExceptionGroup:  (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    |     await stack.enter_async_context(self._context_manager())
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    |     result = await _enter(cm)
    |              ^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    |     return await anext(self.gen)
    |            ^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    |     result = handler(matched)
    |              ^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    |     raise leaf
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 362, in _context_manager
    |     await self._session_state.session.initialize()
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/session.py", line 152, in initialize
    |     result = await self.send_request(
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/shared/session.py", line 288, in send_request
    |     raise McpError(response_or_error.error)
    | mcp.shared.exceptions.McpError: Connection closed
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 362, in _context_manager
    await self._session_state.session.initialize()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/session.py", line 152, in initialize
    result = await self.send_request(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/shared/session.py", line 288, in send_request
    raise McpError(response_or_error.error)
mcp.shared.exceptions.McpError: Connection closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1065, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 419, in _connect
    raise RuntimeError(
RuntimeError: Client failed to connect: Connection closed
2025-12-22 09:14:46,028 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=arxiv connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:14:46,111 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:46,112 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=kis MCP err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:46,112 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=kis MCP full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:46,112 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=kis MCP connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:14:47,031 [INFO] src.core.mcp_integration: Connecting to MCP server arxiv (timeout: 60.0s, attempt 2/3)...
2025-12-22 09:14:47,031 [INFO] src.core.mcp_integration: [MCP][connect.start] server=arxiv type=stdio url=None timeout=60.0
2025-12-22 09:14:47,031 [INFO] src.core.mcp_integration: [MCP][stdio.connect] server=arxiv command=npx args=['-y', '@modelcontextprotocol/server-arxiv@latest']
2025-12-22 09:14:47,113 [INFO] src.core.mcp_integration: Connecting to MCP server kis MCP (timeout: 30.0s, attempt 2/3)...
2025-12-22 09:14:47,114 [INFO] src.core.mcp_integration: [MCP][connect.start] server=kis MCP type=http url=https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp timeout=30.0
2025-12-22 09:14:47,114 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=kis MCP url=https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp headers=['Authorization']
2025-12-22 09:14:47,403 [ERROR] src.core.mcp_integration: [MCP][stdio.connect] Failed to connect to arxiv: Client failed to connect: Connection closed
  + Exception Group Traceback (most recent call last):
  |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 63, in handle_exception
  |     raise matched
  | ExceptionGroup:  (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    |     await stack.enter_async_context(self._context_manager())
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    |     result = await _enter(cm)
    |              ^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    |     return await anext(self.gen)
    |            ^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    |     result = handler(matched)
    |              ^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    |     raise leaf
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 362, in _context_manager
    |     await self._session_state.session.initialize()
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/session.py", line 152, in initialize
    |     result = await self.send_request(
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/shared/session.py", line 288, in send_request
    |     raise McpError(response_or_error.error)
    | mcp.shared.exceptions.McpError: Connection closed
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 362, in _context_manager
    await self._session_state.session.initialize()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/session.py", line 152, in initialize
    result = await self.send_request(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/shared/session.py", line 288, in send_request
    raise McpError(response_or_error.error)
mcp.shared.exceptions.McpError: Connection closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1065, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 419, in _connect
    raise RuntimeError(
RuntimeError: Client failed to connect: Connection closed
2025-12-22 09:14:47,404 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=arxiv connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:14:47,592 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:47,592 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=kis MCP err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:47,592 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=kis MCP full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:47,593 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=kis MCP connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:14:49,407 [INFO] src.core.mcp_integration: Connecting to MCP server arxiv (timeout: 60.0s, attempt 3/3)...
2025-12-22 09:14:49,408 [INFO] src.core.mcp_integration: [MCP][connect.start] server=arxiv type=stdio url=None timeout=60.0
2025-12-22 09:14:49,408 [INFO] src.core.mcp_integration: [MCP][stdio.connect] server=arxiv command=npx args=['-y', '@modelcontextprotocol/server-arxiv@latest']
2025-12-22 09:14:49,594 [INFO] src.core.mcp_integration: Connecting to MCP server kis MCP (timeout: 30.0s, attempt 3/3)...
2025-12-22 09:14:49,594 [INFO] src.core.mcp_integration: [MCP][connect.start] server=kis MCP type=http url=https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp timeout=30.0
2025-12-22 09:14:49,594 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=kis MCP url=https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp headers=['Authorization']
2025-12-22 09:14:49,798 [ERROR] src.core.mcp_integration: [MCP][stdio.connect] Failed to connect to arxiv: Client failed to connect: Connection closed
  + Exception Group Traceback (most recent call last):
  |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 63, in handle_exception
  |     raise matched
  | ExceptionGroup:  (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    |     await stack.enter_async_context(self._context_manager())
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    |     result = await _enter(cm)
    |              ^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    |     return await anext(self.gen)
    |            ^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    |     result = handler(matched)
    |              ^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    |     raise leaf
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 362, in _context_manager
    |     await self._session_state.session.initialize()
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/session.py", line 152, in initialize
    |     result = await self.send_request(
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/shared/session.py", line 288, in send_request
    |     raise McpError(response_or_error.error)
    | mcp.shared.exceptions.McpError: Connection closed
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 362, in _context_manager
    await self._session_state.session.initialize()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/session.py", line 152, in initialize
    result = await self.send_request(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/shared/session.py", line 288, in send_request
    raise McpError(response_or_error.error)
mcp.shared.exceptions.McpError: Connection closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1065, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 419, in _connect
    raise RuntimeError(
RuntimeError: Client failed to connect: Connection closed
2025-12-22 09:14:49,799 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=arxiv failed after 3 attempts
2025-12-22 09:14:50,090 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:50,091 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=kis MCP err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:50,092 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=kis MCP full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:50,092 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=kis MCP failed after 3 attempts
2025-12-22 09:14:50,093 [WARNING] src.core.mcp_integration: ‚ö†Ô∏è No MCP servers connected successfully
2025-12-22 09:14:50,093 [INFO] src.core.mcp_integration: ‚úÖ MCP Hub initialized (OpenRouter disabled)
2025-12-22 09:14:50,093 [INFO] src.core.mcp_integration: Available tools: 9
2025-12-22 09:14:50,093 [INFO] src.core.mcp_integration: MCP servers: []
2025-12-22 09:14:50,093 [INFO] src.core.mcp_integration: Primary model: google/gemini-2.5-flash-lite
2025-12-22 09:14:50,093 [INFO] src.core.mcp_integration: [MCP][diagnostics] server connection summary
2025-12-22 09:14:50,093 [INFO] src.core.mcp_integration: [MCP][diag] server=fetch type=http url=https://server.smithery.ai/@smithery-ai/fetch/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/@smithery-ai/fetch/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:50,093 [INFO] src.core.mcp_integration: [MCP][diag] server=docfork type=http url=https://server.smithery.ai/@docfork/mcp/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/@docfork/mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:50,093 [INFO] src.core.mcp_integration: [MCP][diag] server=context7-mcp type=http url=https://server.smithery.ai/@upstash/context7-mcp/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/@upstash/context7-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:50,093 [INFO] src.core.mcp_integration: [MCP][diag] server=semantic_scholar type=http url=https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:50,093 [INFO] src.core.mcp_integration: [MCP][diag] server=parallel-search type=http url=https://server.smithery.ai/@parallel/search/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/@parallel/search/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:50,093 [INFO] src.core.mcp_integration: [MCP][diag] server=WebSearch-MCP type=http url=https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:50,093 [INFO] src.core.mcp_integration: [MCP][diag] server=Google search console type=http url=https://server.smithery.ai/google_search_console/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/google_search_console/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:50,093 [INFO] src.core.mcp_integration: [MCP][diag] server=Paper Search type=http url=https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:50,094 [INFO] src.core.mcp_integration: [MCP][diag] server=TodoList type=http url=https://server.smithery.ai/todoist/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/todoist/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:50,094 [INFO] src.core.mcp_integration: [MCP][diag] server=arxiv type=stdio url=None stage=failed ok=False init_ms=- list_ms=- err=Client failed to connect: Connection closed
2025-12-22 09:14:50,094 [INFO] src.core.mcp_integration: [MCP][diag] server=kis MCP type=http url=https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:50,094 [INFO] src.core.mcp_integration: Validating essential tools availability...
2025-12-22 09:14:50,094 [INFO] src.core.mcp_integration: Registered tools: ['g-search', 'fetch', 'filesystem', 'python_coder', 'code_interpreter', 'arxiv', 'scholar', 'ddg_search']
2025-12-22 09:14:50,094 [INFO] src.core.mcp_integration: ‚úÖ Found essential tool: g-search
2025-12-22 09:14:50,094 [INFO] src.core.mcp_integration: ‚úÖ Found essential tool: fetch
2025-12-22 09:14:50,094 [INFO] src.core.mcp_integration: ‚úÖ Found essential tool: filesystem
2025-12-22 09:14:50,094 [INFO] src.core.mcp_integration: ‚úÖ All essential tools found in registry
2025-12-22 09:14:50,094 [INFO] src.core.mcp_integration: [MCP][exec.start] tool=tavily params_keys=['query', 'max_results']
2025-12-22 09:14:50,094 [INFO] src.core.mcp_integration: [MCP][exec.start] parameters_preview={'query': 'Machine learning basics', 'max_results': 3}...
2025-12-22 09:14:50,094 [INFO] src.core.mcp_integration: [MCP][exec.route] Routing tavily to _execute_search_tool (tool_name type: <class 'str'>)
2025-12-22 09:14:50,094 [ERROR] src.core.mcp_integration: Search tool execution failed: tavily - Tavily MCP server not found. Add tavily server to mcp_config.json
2025-12-22 09:14:50,094 [INFO] src.core.mcp_integration: [MCP][exec.route.success] tavily routing succeeded: success=False
2025-12-22 09:14:50,095 [ERROR] src.core.mcp_integration: [MCP][exec.route.error] tavily routing failed: [Errno 32] Broken pipe
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 2315, in execute_tool
    await output_manager.output_tool_execution(tool_exec_result)
  File "/home/user/workspace/mcp_agent/sparkleforge/src/utils/output_manager.py", line 262, in output_tool_execution
    await self.output(
  File "/home/user/workspace/mcp_agent/sparkleforge/src/utils/output_manager.py", line 231, in output
    print(formatted_message, flush=True)
BrokenPipeError: [Errno 32] Broken pipe
2025-12-22 09:14:50,095 [ERROR] __main__: ‚ùå [search] tavily ÏòàÏô∏ Î∞úÏÉù: [Errno 32] Broken pipe
2025-12-22 09:14:50,096 [ERROR] __main__:    Ïä§ÌÉù Ìä∏Î†àÏù¥Ïä§:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 2315, in execute_tool
    await output_manager.output_tool_execution(tool_exec_result)
  File "/home/user/workspace/mcp_agent/sparkleforge/src/utils/output_manager.py", line 262, in output_tool_execution
    await self.output(
  File "/home/user/workspace/mcp_agent/sparkleforge/src/utils/output_manager.py", line 231, in output
    print(formatted_message, flush=True)
BrokenPipeError: [Errno 32] Broken pipe

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/test_mcp_tool_call.py", line 273, in test_tool_execution
    result = await execute_tool(tool_name, params)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 3261, in execute_tool
    result = await mcp_hub.execute_tool(tool_name, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 2338, in execute_tool
    await output_manager.output_tool_execution(tool_exec_result)
  File "/home/user/workspace/mcp_agent/sparkleforge/src/utils/output_manager.py", line 262, in output_tool_execution
    await self.output(
  File "/home/user/workspace/mcp_agent/sparkleforge/src/utils/output_manager.py", line 231, in output
    print(formatted_message, flush=True)
BrokenPipeError: [Errno 32] Broken pipe

2025-12-22 09:14:51,098 [INFO] __main__: üß™ [search] exa ÌÖåÏä§Ìä∏ ÏãúÏûë
2025-12-22 09:14:51,098 [INFO] __main__:    ÌååÎùºÎØ∏ÌÑ∞: {
  "query": "Web development trends 2024",
  "max_results": 3
}
2025-12-22 09:14:51,098 [INFO] src.core.mcp_integration: [MCP][execute_tool] MCP Hub not initialized, initializing...
2025-12-22 09:14:51,154 [INFO] httpx: HTTP Request: GET http://localhost:8080/api/vm/list "HTTP/1.1 500 Internal Server Error"
2025-12-22 09:14:51,205 [INFO] httpx: HTTP Request: GET http://localhost:8080/api/vm/list "HTTP/1.1 500 Internal Server Error"
2025-12-22 09:14:51,205 [WARNING] src.core.era_server_manager: Port 8080 is already in use. Assuming ERA server is running externally.
2025-12-22 09:14:51,206 [INFO] src.core.mcp_integration: ‚úÖ ERA server is running (safe code execution enabled)
2025-12-22 09:14:51,206 [INFO] src.core.mcp_integration: Initializing MCP Hub with MCP servers (no OpenRouter)...
2025-12-22 09:14:51,206 [INFO] src.core.mcp_integration: [MCP][init.batch] Waiting 3.0s for batch initialization before connecting servers...
2025-12-22 09:14:54,209 [INFO] src.core.mcp_integration: [MCP][init] max_concurrency=3, timeout_per_server=60.0s
2025-12-22 09:14:54,209 [INFO] src.core.mcp_integration: [MCP][allowlist] not set; connecting to all enabled servers: ['fetch', 'docfork', 'context7-mcp', 'semantic_scholar', 'parallel-search', 'WebSearch-MCP', 'Google search console', 'Paper Search', 'TodoList', 'arxiv', 'kis MCP']
2025-12-22 09:14:54,210 [INFO] src.core.mcp_integration: Connecting to MCP server fetch (timeout: 60.0s, attempt 1/3)...
2025-12-22 09:14:54,210 [INFO] src.core.mcp_integration: [MCP][connect.start] server=fetch type=http url=https://server.smithery.ai/@smithery-ai/fetch/mcp timeout=60.0
2025-12-22 09:14:54,210 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=fetch url=https://server.smithery.ai/@smithery-ai/fetch/mcp headers=['Authorization']
2025-12-22 09:14:54,210 [INFO] src.core.mcp_integration: Connecting to MCP server docfork (timeout: 60.0s, attempt 1/3)...
2025-12-22 09:14:54,211 [INFO] src.core.mcp_integration: [MCP][connect.start] server=docfork type=http url=https://server.smithery.ai/@docfork/mcp/mcp timeout=60.0
2025-12-22 09:14:54,211 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=docfork url=https://server.smithery.ai/@docfork/mcp/mcp headers=['Authorization']
2025-12-22 09:14:54,211 [INFO] src.core.mcp_integration: Connecting to MCP server context7-mcp (timeout: 60.0s, attempt 1/3)...
2025-12-22 09:14:54,211 [INFO] src.core.mcp_integration: [MCP][connect.start] server=context7-mcp type=http url=https://server.smithery.ai/@upstash/context7-mcp/mcp timeout=60.0
2025-12-22 09:14:54,211 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=context7-mcp url=https://server.smithery.ai/@upstash/context7-mcp/mcp headers=['Authorization']
2025-12-22 09:14:54,689 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@docfork/mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:54,690 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=docfork err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@docfork/mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:54,690 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=docfork full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@docfork/mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:54,691 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=docfork connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:14:54,698 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@smithery-ai/fetch/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:54,699 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=fetch err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@smithery-ai/fetch/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:54,699 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=fetch full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@smithery-ai/fetch/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:54,700 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=fetch connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:14:54,711 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@upstash/context7-mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:54,712 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=context7-mcp err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@upstash/context7-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:54,712 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=context7-mcp full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@upstash/context7-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:54,713 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=context7-mcp connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:14:55,693 [INFO] src.core.mcp_integration: Connecting to MCP server docfork (timeout: 60.0s, attempt 2/3)...
2025-12-22 09:14:55,693 [INFO] src.core.mcp_integration: [MCP][connect.start] server=docfork type=http url=https://server.smithery.ai/@docfork/mcp/mcp timeout=60.0
2025-12-22 09:14:55,694 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=docfork url=https://server.smithery.ai/@docfork/mcp/mcp headers=['Authorization']
2025-12-22 09:14:55,718 [INFO] src.core.mcp_integration: Connecting to MCP server fetch (timeout: 60.0s, attempt 2/3)...
2025-12-22 09:14:55,718 [INFO] src.core.mcp_integration: [MCP][connect.start] server=fetch type=http url=https://server.smithery.ai/@smithery-ai/fetch/mcp timeout=60.0
2025-12-22 09:14:55,719 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=fetch url=https://server.smithery.ai/@smithery-ai/fetch/mcp headers=['Authorization']
2025-12-22 09:14:55,719 [INFO] src.core.mcp_integration: Connecting to MCP server context7-mcp (timeout: 60.0s, attempt 2/3)...
2025-12-22 09:14:55,719 [INFO] src.core.mcp_integration: [MCP][connect.start] server=context7-mcp type=http url=https://server.smithery.ai/@upstash/context7-mcp/mcp timeout=60.0
2025-12-22 09:14:55,719 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=context7-mcp url=https://server.smithery.ai/@upstash/context7-mcp/mcp headers=['Authorization']
2025-12-22 09:14:56,198 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@docfork/mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:56,199 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=docfork err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@docfork/mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:56,199 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=docfork full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@docfork/mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:56,200 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=docfork connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:14:56,207 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@smithery-ai/fetch/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:56,207 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=fetch err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@smithery-ai/fetch/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:56,208 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=fetch full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@smithery-ai/fetch/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:56,208 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=fetch connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:14:56,212 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@upstash/context7-mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:56,212 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=context7-mcp err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@upstash/context7-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:56,212 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=context7-mcp full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@upstash/context7-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:56,213 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=context7-mcp connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:14:58,203 [INFO] src.core.mcp_integration: Connecting to MCP server docfork (timeout: 60.0s, attempt 3/3)...
2025-12-22 09:14:58,204 [INFO] src.core.mcp_integration: [MCP][connect.start] server=docfork type=http url=https://server.smithery.ai/@docfork/mcp/mcp timeout=60.0
2025-12-22 09:14:58,204 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=docfork url=https://server.smithery.ai/@docfork/mcp/mcp headers=['Authorization']
2025-12-22 09:14:58,222 [INFO] src.core.mcp_integration: Connecting to MCP server fetch (timeout: 60.0s, attempt 3/3)...
2025-12-22 09:14:58,222 [INFO] src.core.mcp_integration: [MCP][connect.start] server=fetch type=http url=https://server.smithery.ai/@smithery-ai/fetch/mcp timeout=60.0
2025-12-22 09:14:58,222 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=fetch url=https://server.smithery.ai/@smithery-ai/fetch/mcp headers=['Authorization']
2025-12-22 09:14:58,222 [INFO] src.core.mcp_integration: Connecting to MCP server context7-mcp (timeout: 60.0s, attempt 3/3)...
2025-12-22 09:14:58,222 [INFO] src.core.mcp_integration: [MCP][connect.start] server=context7-mcp type=http url=https://server.smithery.ai/@upstash/context7-mcp/mcp timeout=60.0
2025-12-22 09:14:58,222 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=context7-mcp url=https://server.smithery.ai/@upstash/context7-mcp/mcp headers=['Authorization']
2025-12-22 09:14:58,699 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@docfork/mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:58,700 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@upstash/context7-mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:58,701 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=docfork err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@docfork/mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:58,701 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=docfork full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@docfork/mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:58,702 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=docfork failed after 3 attempts
2025-12-22 09:14:58,702 [INFO] src.core.mcp_integration: Connecting to MCP server semantic_scholar (timeout: 20.0s, attempt 1/3)...
2025-12-22 09:14:58,702 [INFO] src.core.mcp_integration: [MCP][connect.start] server=semantic_scholar type=http url=https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp timeout=20.0
2025-12-22 09:14:58,702 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=semantic_scholar url=https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp headers=['Authorization']
2025-12-22 09:14:58,703 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=context7-mcp err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@upstash/context7-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:58,703 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=context7-mcp full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@upstash/context7-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:58,704 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=context7-mcp failed after 3 attempts
2025-12-22 09:14:58,704 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@smithery-ai/fetch/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:58,724 [INFO] src.core.mcp_integration: Connecting to MCP server parallel-search (timeout: 60.0s, attempt 1/3)...
2025-12-22 09:14:58,724 [INFO] src.core.mcp_integration: [MCP][connect.start] server=parallel-search type=http url=https://server.smithery.ai/@parallel/search/mcp timeout=60.0
2025-12-22 09:14:58,724 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=parallel-search url=https://server.smithery.ai/@parallel/search/mcp headers=['Authorization']
2025-12-22 09:14:58,746 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=fetch err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@smithery-ai/fetch/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:58,746 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=fetch full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@smithery-ai/fetch/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:58,747 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=fetch failed after 3 attempts
2025-12-22 09:14:58,747 [INFO] src.core.mcp_integration: Connecting to MCP server WebSearch-MCP (timeout: 60.0s, attempt 1/3)...
2025-12-22 09:14:58,747 [INFO] src.core.mcp_integration: [MCP][connect.start] server=WebSearch-MCP type=http url=https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp timeout=60.0
2025-12-22 09:14:58,748 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=WebSearch-MCP url=https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp headers=['Authorization']
2025-12-22 09:14:59,186 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:59,187 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=semantic_scholar err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:59,187 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=semantic_scholar full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:59,188 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=semantic_scholar connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:14:59,194 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@parallel/search/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:59,195 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=parallel-search err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@parallel/search/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:59,195 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=parallel-search full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@parallel/search/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:59,196 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=parallel-search connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:14:59,199 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:14:59,199 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=WebSearch-MCP err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:59,199 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=WebSearch-MCP full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:14:59,200 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=WebSearch-MCP connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:15:00,190 [INFO] src.core.mcp_integration: Connecting to MCP server semantic_scholar (timeout: 20.0s, attempt 2/3)...
2025-12-22 09:15:00,190 [INFO] src.core.mcp_integration: [MCP][connect.start] server=semantic_scholar type=http url=https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp timeout=20.0
2025-12-22 09:15:00,190 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=semantic_scholar url=https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp headers=['Authorization']
2025-12-22 09:15:00,211 [INFO] src.core.mcp_integration: Connecting to MCP server parallel-search (timeout: 60.0s, attempt 2/3)...
2025-12-22 09:15:00,212 [INFO] src.core.mcp_integration: [MCP][connect.start] server=parallel-search type=http url=https://server.smithery.ai/@parallel/search/mcp timeout=60.0
2025-12-22 09:15:00,212 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=parallel-search url=https://server.smithery.ai/@parallel/search/mcp headers=['Authorization']
2025-12-22 09:15:00,212 [INFO] src.core.mcp_integration: Connecting to MCP server WebSearch-MCP (timeout: 60.0s, attempt 2/3)...
2025-12-22 09:15:00,212 [INFO] src.core.mcp_integration: [MCP][connect.start] server=WebSearch-MCP type=http url=https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp timeout=60.0
2025-12-22 09:15:00,213 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=WebSearch-MCP url=https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp headers=['Authorization']
2025-12-22 09:15:00,677 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:15:00,677 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=semantic_scholar err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:00,678 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=semantic_scholar full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:00,678 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=semantic_scholar connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:15:00,702 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:15:00,704 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=WebSearch-MCP err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:00,704 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=WebSearch-MCP full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:00,705 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=WebSearch-MCP connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:15:00,706 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@parallel/search/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:15:00,707 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=parallel-search err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@parallel/search/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:00,707 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=parallel-search full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@parallel/search/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:00,708 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=parallel-search connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:15:02,681 [INFO] src.core.mcp_integration: Connecting to MCP server semantic_scholar (timeout: 20.0s, attempt 3/3)...
2025-12-22 09:15:02,681 [INFO] src.core.mcp_integration: [MCP][connect.start] server=semantic_scholar type=http url=https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp timeout=20.0
2025-12-22 09:15:02,682 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=semantic_scholar url=https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp headers=['Authorization']
2025-12-22 09:15:02,705 [INFO] src.core.mcp_integration: Connecting to MCP server WebSearch-MCP (timeout: 60.0s, attempt 3/3)...
2025-12-22 09:15:02,706 [INFO] src.core.mcp_integration: [MCP][connect.start] server=WebSearch-MCP type=http url=https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp timeout=60.0
2025-12-22 09:15:02,706 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=WebSearch-MCP url=https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp headers=['Authorization']
2025-12-22 09:15:02,726 [INFO] src.core.mcp_integration: Connecting to MCP server parallel-search (timeout: 60.0s, attempt 3/3)...
2025-12-22 09:15:02,726 [INFO] src.core.mcp_integration: [MCP][connect.start] server=parallel-search type=http url=https://server.smithery.ai/@parallel/search/mcp timeout=60.0
2025-12-22 09:15:02,726 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=parallel-search url=https://server.smithery.ai/@parallel/search/mcp headers=['Authorization']
2025-12-22 09:15:03,187 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:15:03,188 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@parallel/search/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:15:03,189 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=WebSearch-MCP err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:03,189 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=WebSearch-MCP full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:03,189 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=WebSearch-MCP failed after 3 attempts
2025-12-22 09:15:03,189 [INFO] src.core.mcp_integration: Connecting to MCP server Google search console (timeout: 30.0s, attempt 1/3)...
2025-12-22 09:15:03,190 [INFO] src.core.mcp_integration: [MCP][connect.start] server=Google search console type=http url=https://server.smithery.ai/google_search_console/mcp timeout=30.0
2025-12-22 09:15:03,190 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=Google search console url=https://server.smithery.ai/google_search_console/mcp headers=['Authorization']
2025-12-22 09:15:03,190 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=parallel-search err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@parallel/search/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:03,190 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=parallel-search full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@parallel/search/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:03,191 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=parallel-search failed after 3 attempts
2025-12-22 09:15:03,209 [INFO] src.core.mcp_integration: Connecting to MCP server Paper Search (timeout: 30.0s, attempt 1/3)...
2025-12-22 09:15:03,209 [INFO] src.core.mcp_integration: [MCP][connect.start] server=Paper Search type=http url=https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp timeout=30.0
2025-12-22 09:15:03,209 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=Paper Search url=https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp headers=['Authorization']
2025-12-22 09:15:03,228 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:15:03,230 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=semantic_scholar err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:03,231 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=semantic_scholar full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:03,232 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=semantic_scholar failed after 3 attempts
2025-12-22 09:15:03,232 [INFO] src.core.mcp_integration: Connecting to MCP server TodoList (timeout: 30.0s, attempt 1/3)...
2025-12-22 09:15:03,232 [INFO] src.core.mcp_integration: [MCP][connect.start] server=TodoList type=http url=https://server.smithery.ai/todoist/mcp timeout=30.0
2025-12-22 09:15:03,232 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=TodoList url=https://server.smithery.ai/todoist/mcp headers=['Authorization']
2025-12-22 09:15:03,681 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:15:03,682 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Paper Search err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:03,682 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Paper Search full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:03,683 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=Paper Search connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:15:03,684 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/google_search_console/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:15:03,684 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/todoist/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:15:03,685 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Google search console err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/google_search_console/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:03,685 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Google search console full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/google_search_console/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:03,686 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=Google search console connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:15:03,686 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=TodoList err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/todoist/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:03,686 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=TodoList full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/todoist/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:03,687 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=TodoList connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:15:04,685 [INFO] src.core.mcp_integration: Connecting to MCP server Paper Search (timeout: 30.0s, attempt 2/3)...
2025-12-22 09:15:04,686 [INFO] src.core.mcp_integration: [MCP][connect.start] server=Paper Search type=http url=https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp timeout=30.0
2025-12-22 09:15:04,686 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=Paper Search url=https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp headers=['Authorization']
2025-12-22 09:15:04,705 [INFO] src.core.mcp_integration: Connecting to MCP server Google search console (timeout: 30.0s, attempt 2/3)...
2025-12-22 09:15:04,705 [INFO] src.core.mcp_integration: [MCP][connect.start] server=Google search console type=http url=https://server.smithery.ai/google_search_console/mcp timeout=30.0
2025-12-22 09:15:04,705 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=Google search console url=https://server.smithery.ai/google_search_console/mcp headers=['Authorization']
2025-12-22 09:15:04,726 [INFO] src.core.mcp_integration: Connecting to MCP server TodoList (timeout: 30.0s, attempt 2/3)...
2025-12-22 09:15:04,726 [INFO] src.core.mcp_integration: [MCP][connect.start] server=TodoList type=http url=https://server.smithery.ai/todoist/mcp timeout=30.0
2025-12-22 09:15:04,727 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=TodoList url=https://server.smithery.ai/todoist/mcp headers=['Authorization']
2025-12-22 09:15:05,181 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/google_search_console/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:15:05,182 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Google search console err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/google_search_console/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:05,182 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Google search console full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/google_search_console/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:05,182 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=Google search console connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:15:05,190 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/todoist/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:15:05,191 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=TodoList err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/todoist/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:05,191 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=TodoList full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/todoist/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:05,192 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=TodoList connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:15:05,201 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:15:05,202 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Paper Search err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:05,202 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Paper Search full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:05,203 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=Paper Search connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:15:07,183 [INFO] src.core.mcp_integration: Connecting to MCP server Google search console (timeout: 30.0s, attempt 3/3)...
2025-12-22 09:15:07,184 [INFO] src.core.mcp_integration: [MCP][connect.start] server=Google search console type=http url=https://server.smithery.ai/google_search_console/mcp timeout=30.0
2025-12-22 09:15:07,184 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=Google search console url=https://server.smithery.ai/google_search_console/mcp headers=['Authorization']
2025-12-22 09:15:07,214 [INFO] src.core.mcp_integration: Connecting to MCP server TodoList (timeout: 30.0s, attempt 3/3)...
2025-12-22 09:15:07,214 [INFO] src.core.mcp_integration: [MCP][connect.start] server=TodoList type=http url=https://server.smithery.ai/todoist/mcp timeout=30.0
2025-12-22 09:15:07,215 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=TodoList url=https://server.smithery.ai/todoist/mcp headers=['Authorization']
2025-12-22 09:15:07,215 [INFO] src.core.mcp_integration: Connecting to MCP server Paper Search (timeout: 30.0s, attempt 3/3)...
2025-12-22 09:15:07,215 [INFO] src.core.mcp_integration: [MCP][connect.start] server=Paper Search type=http url=https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp timeout=30.0
2025-12-22 09:15:07,215 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=Paper Search url=https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp headers=['Authorization']
2025-12-22 09:15:07,693 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/todoist/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:15:07,694 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=TodoList err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/todoist/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:07,694 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=TodoList full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/todoist/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:07,695 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=TodoList failed after 3 attempts
2025-12-22 09:15:07,695 [INFO] src.core.mcp_integration: Connecting to MCP server arxiv (timeout: 60.0s, attempt 1/3)...
2025-12-22 09:15:07,695 [INFO] src.core.mcp_integration: [MCP][connect.start] server=arxiv type=stdio url=None timeout=60.0
2025-12-22 09:15:07,695 [INFO] src.core.mcp_integration: [MCP][stdio.connect] server=arxiv command=npx args=['-y', '@modelcontextprotocol/server-arxiv@latest']
2025-12-22 09:15:07,710 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/google_search_console/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:15:07,711 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Google search console err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/google_search_console/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:07,711 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Google search console full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/google_search_console/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:07,712 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=Google search console failed after 3 attempts
2025-12-22 09:15:07,712 [INFO] src.core.mcp_integration: Connecting to MCP server kis MCP (timeout: 30.0s, attempt 1/3)...
2025-12-22 09:15:07,712 [INFO] src.core.mcp_integration: [MCP][connect.start] server=kis MCP type=http url=https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp timeout=30.0
2025-12-22 09:15:07,712 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=kis MCP url=https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp headers=['Authorization']
2025-12-22 09:15:07,731 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:15:07,746 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Paper Search err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:07,756 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=Paper Search full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:07,757 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=Paper Search failed after 3 attempts
2025-12-22 09:15:08,110 [ERROR] src.core.mcp_integration: [MCP][stdio.connect] Failed to connect to arxiv: Client failed to connect: Connection closed
  + Exception Group Traceback (most recent call last):
  |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 63, in handle_exception
  |     raise matched
  | ExceptionGroup:  (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    |     await stack.enter_async_context(self._context_manager())
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    |     result = await _enter(cm)
    |              ^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    |     return await anext(self.gen)
    |            ^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    |     result = handler(matched)
    |              ^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    |     raise leaf
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 362, in _context_manager
    |     await self._session_state.session.initialize()
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/session.py", line 152, in initialize
    |     result = await self.send_request(
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/shared/session.py", line 288, in send_request
    |     raise McpError(response_or_error.error)
    | mcp.shared.exceptions.McpError: Connection closed
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 362, in _context_manager
    await self._session_state.session.initialize()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/session.py", line 152, in initialize
    result = await self.send_request(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/shared/session.py", line 288, in send_request
    raise McpError(response_or_error.error)
mcp.shared.exceptions.McpError: Connection closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1065, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 419, in _connect
    raise RuntimeError(
RuntimeError: Client failed to connect: Connection closed
2025-12-22 09:15:08,111 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=arxiv connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:15:08,198 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:15:08,199 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=kis MCP err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:08,199 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=kis MCP full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:08,200 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=kis MCP connection failed (attempt 1/3), retrying in 1s...
2025-12-22 09:15:09,112 [INFO] src.core.mcp_integration: Connecting to MCP server arxiv (timeout: 60.0s, attempt 2/3)...
2025-12-22 09:15:09,113 [INFO] src.core.mcp_integration: [MCP][connect.start] server=arxiv type=stdio url=None timeout=60.0
2025-12-22 09:15:09,113 [INFO] src.core.mcp_integration: [MCP][stdio.connect] server=arxiv command=npx args=['-y', '@modelcontextprotocol/server-arxiv@latest']
2025-12-22 09:15:09,201 [INFO] src.core.mcp_integration: Connecting to MCP server kis MCP (timeout: 30.0s, attempt 2/3)...
2025-12-22 09:15:09,201 [INFO] src.core.mcp_integration: [MCP][connect.start] server=kis MCP type=http url=https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp timeout=30.0
2025-12-22 09:15:09,202 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=kis MCP url=https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp headers=['Authorization']
2025-12-22 09:15:09,561 [ERROR] src.core.mcp_integration: [MCP][stdio.connect] Failed to connect to arxiv: Client failed to connect: Connection closed
  + Exception Group Traceback (most recent call last):
  |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 63, in handle_exception
  |     raise matched
  | ExceptionGroup:  (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    |     await stack.enter_async_context(self._context_manager())
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    |     result = await _enter(cm)
    |              ^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    |     return await anext(self.gen)
    |            ^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    |     result = handler(matched)
    |              ^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    |     raise leaf
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 362, in _context_manager
    |     await self._session_state.session.initialize()
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/session.py", line 152, in initialize
    |     result = await self.send_request(
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/shared/session.py", line 288, in send_request
    |     raise McpError(response_or_error.error)
    | mcp.shared.exceptions.McpError: Connection closed
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 362, in _context_manager
    await self._session_state.session.initialize()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/session.py", line 152, in initialize
    result = await self.send_request(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/shared/session.py", line 288, in send_request
    raise McpError(response_or_error.error)
mcp.shared.exceptions.McpError: Connection closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1065, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 419, in _connect
    raise RuntimeError(
RuntimeError: Client failed to connect: Connection closed
2025-12-22 09:15:09,562 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=arxiv connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:15:09,641 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:15:09,642 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=kis MCP err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:09,642 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=kis MCP full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:09,643 [WARNING] src.core.mcp_integration: [MCP][init.retry] server=kis MCP connection failed (attempt 2/3), retrying in 2s...
2025-12-22 09:15:11,563 [INFO] src.core.mcp_integration: Connecting to MCP server arxiv (timeout: 60.0s, attempt 3/3)...
2025-12-22 09:15:11,564 [INFO] src.core.mcp_integration: [MCP][connect.start] server=arxiv type=stdio url=None timeout=60.0
2025-12-22 09:15:11,564 [INFO] src.core.mcp_integration: [MCP][stdio.connect] server=arxiv command=npx args=['-y', '@modelcontextprotocol/server-arxiv@latest']
2025-12-22 09:15:11,644 [INFO] src.core.mcp_integration: Connecting to MCP server kis MCP (timeout: 30.0s, attempt 3/3)...
2025-12-22 09:15:11,644 [INFO] src.core.mcp_integration: [MCP][connect.start] server=kis MCP type=http url=https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp timeout=30.0
2025-12-22 09:15:11,644 [INFO] src.core.mcp_integration: [MCP][fastmcp.connect] server=kis MCP url=https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp headers=['Authorization']
2025-12-22 09:15:12,060 [ERROR] src.core.mcp_integration: [MCP][stdio.connect] Failed to connect to arxiv: Client failed to connect: Connection closed
  + Exception Group Traceback (most recent call last):
  |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 63, in handle_exception
  |     raise matched
  | ExceptionGroup:  (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    |     await stack.enter_async_context(self._context_manager())
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    |     result = await _enter(cm)
    |              ^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    |     return await anext(self.gen)
    |            ^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    |     result = handler(matched)
    |              ^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    |     raise leaf
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 362, in _context_manager
    |     await self._session_state.session.initialize()
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/session.py", line 152, in initialize
    |     result = await self.send_request(
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/shared/session.py", line 288, in send_request
    |     raise McpError(response_or_error.error)
    | mcp.shared.exceptions.McpError: Connection closed
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 362, in _context_manager
    await self._session_state.session.initialize()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/session.py", line 152, in initialize
    result = await self.send_request(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/shared/session.py", line 288, in send_request
    raise McpError(response_or_error.error)
mcp.shared.exceptions.McpError: Connection closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1065, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 419, in _connect
    raise RuntimeError(
RuntimeError: Client failed to connect: Connection closed
2025-12-22 09:15:12,061 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=arxiv failed after 3 attempts
2025-12-22 09:15:12,109 [INFO] httpx: HTTP Request: POST https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp "HTTP/1.1 401 Unauthorized"
2025-12-22 09:15:12,110 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=kis MCP err=HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:12,110 [ERROR] src.core.mcp_integration: [MCP][fastmcp.error] server=kis MCP full traceback:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 1234, in _connect_to_mcp_server
    async with fastmcp_client:
               ^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 374, in __aenter__
    return await self._connect()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 418, in _connect
    raise exception
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 481, in _session_runner
    await stack.enter_async_context(self._context_manager())
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 659, in enter_async_context
    result = await _enter(cm)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/client/client.py", line 353, in _context_manager
    with catch(get_catch_handlers()):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 39, in __exit__
    raise unhandled from exc.__cause__
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/exceptiongroup/_catch.py", line 65, in handle_exception
    result = handler(matched)
             ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/fastmcp/utilities/exceptions.py", line 29, in _exception_handler
    raise leaf
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 411, in handle_request_async
    await self._handle_post_request(ctx)
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/mcp/client/streamable_http.py", line 280, in _handle_post_request
    response.raise_for_status()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:12,111 [WARNING] src.core.mcp_integration: [MCP][init.failed] server=kis MCP failed after 3 attempts
2025-12-22 09:15:12,111 [WARNING] src.core.mcp_integration: ‚ö†Ô∏è No MCP servers connected successfully
2025-12-22 09:15:12,111 [INFO] src.core.mcp_integration: ‚úÖ MCP Hub initialized (OpenRouter disabled)
2025-12-22 09:15:12,111 [INFO] src.core.mcp_integration: Available tools: 9
2025-12-22 09:15:12,111 [INFO] src.core.mcp_integration: MCP servers: []
2025-12-22 09:15:12,111 [INFO] src.core.mcp_integration: Primary model: google/gemini-2.5-flash-lite
2025-12-22 09:15:12,111 [INFO] src.core.mcp_integration: [MCP][diagnostics] server connection summary
2025-12-22 09:15:12,112 [INFO] src.core.mcp_integration: [MCP][diag] server=fetch type=http url=https://server.smithery.ai/@smithery-ai/fetch/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/@smithery-ai/fetch/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:12,112 [INFO] src.core.mcp_integration: [MCP][diag] server=docfork type=http url=https://server.smithery.ai/@docfork/mcp/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/@docfork/mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:12,112 [INFO] src.core.mcp_integration: [MCP][diag] server=context7-mcp type=http url=https://server.smithery.ai/@upstash/context7-mcp/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/@upstash/context7-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:12,112 [INFO] src.core.mcp_integration: [MCP][diag] server=semantic_scholar type=http url=https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/@hamid-vakilzadeh/mcpsemanticscholar/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:12,112 [INFO] src.core.mcp_integration: [MCP][diag] server=parallel-search type=http url=https://server.smithery.ai/@parallel/search/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/@parallel/search/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:12,112 [INFO] src.core.mcp_integration: [MCP][diag] server=WebSearch-MCP type=http url=https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/@mnhlt/WebSearch-MCP/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:12,112 [INFO] src.core.mcp_integration: [MCP][diag] server=Google search console type=http url=https://server.smithery.ai/google_search_console/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/google_search_console/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:12,112 [INFO] src.core.mcp_integration: [MCP][diag] server=Paper Search type=http url=https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/@adamamer20/paper-search-mcp-openai/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:12,112 [INFO] src.core.mcp_integration: [MCP][diag] server=TodoList type=http url=https://server.smithery.ai/todoist/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/todoist/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:12,112 [INFO] src.core.mcp_integration: [MCP][diag] server=arxiv type=stdio url=None stage=failed ok=False init_ms=- list_ms=- err=Client failed to connect: Connection closed
2025-12-22 09:15:12,112 [INFO] src.core.mcp_integration: [MCP][diag] server=kis MCP type=http url=https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp stage=fastmcp_connect ok=False init_ms=- list_ms=- err=Client error '401 Unauthorized' for url 'https://server.smithery.ai/@KISOpenAPI/kis-code-assistant-mcp/mcp'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-12-22 09:15:12,112 [INFO] src.core.mcp_integration: Validating essential tools availability...
2025-12-22 09:15:12,112 [INFO] src.core.mcp_integration: Registered tools: ['g-search', 'fetch', 'filesystem', 'python_coder', 'code_interpreter', 'arxiv', 'scholar', 'ddg_search']
2025-12-22 09:15:12,112 [INFO] src.core.mcp_integration: ‚úÖ Found essential tool: g-search
2025-12-22 09:15:12,112 [INFO] src.core.mcp_integration: ‚úÖ Found essential tool: fetch
2025-12-22 09:15:12,112 [INFO] src.core.mcp_integration: ‚úÖ Found essential tool: filesystem
2025-12-22 09:15:12,112 [INFO] src.core.mcp_integration: ‚úÖ All essential tools found in registry
2025-12-22 09:15:12,113 [INFO] src.core.mcp_integration: [MCP][exec.start] tool=exa params_keys=['query', 'max_results']
2025-12-22 09:15:12,113 [INFO] src.core.mcp_integration: [MCP][exec.start] parameters_preview={'query': 'Web development trends 2024', 'max_results': 3}...
2025-12-22 09:15:12,113 [INFO] src.core.mcp_integration: [MCP][exec.route] Routing exa to _execute_search_tool (tool_name type: <class 'str'>)
2025-12-22 09:15:12,113 [ERROR] src.core.mcp_integration: Search tool execution failed: exa - Exa MCP server not found. Add exa server to mcp_config.json
2025-12-22 09:15:12,113 [INFO] src.core.mcp_integration: [MCP][exec.route.success] exa routing succeeded: success=False
2025-12-22 09:15:12,113 [ERROR] src.core.mcp_integration: [MCP][exec.route.error] exa routing failed: [Errno 32] Broken pipe
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 2315, in execute_tool
    await output_manager.output_tool_execution(tool_exec_result)
  File "/home/user/workspace/mcp_agent/sparkleforge/src/utils/output_manager.py", line 262, in output_tool_execution
    await self.output(
  File "/home/user/workspace/mcp_agent/sparkleforge/src/utils/output_manager.py", line 231, in output
    print(formatted_message, flush=True)
BrokenPipeError: [Errno 32] Broken pipe
2025-12-22 09:15:12,113 [ERROR] __main__: ‚ùå [search] exa ÏòàÏô∏ Î∞úÏÉù: [Errno 32] Broken pipe
2025-12-22 09:15:12,114 [ERROR] __main__:    Ïä§ÌÉù Ìä∏Î†àÏù¥Ïä§:
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 2315, in execute_tool
    await output_manager.output_tool_execution(tool_exec_result)
  File "/home/user/workspace/mcp_agent/sparkleforge/src/utils/output_manager.py", line 262, in output_tool_execution
    await self.output(
  File "/home/user/workspace/mcp_agent/sparkleforge/src/utils/output_manager.py", line 231, in output
    print(formatted_message, flush=True)
BrokenPipeError: [Errno 32] Broken pipe

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/test_mcp_tool_call.py", line 273, in test_tool_execution
    result = await execute_tool(tool_name, params)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 3261, in execute_tool
    result = await mcp_hub.execute_tool(tool_name, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/mcp_integration.py", line 2338, in execute_tool
    await output_manager.output_tool_execution(tool_exec_result)
  File "/home/user/workspace/mcp_agent/sparkleforge/src/utils/output_manager.py", line 262, in output_tool_execution
    await self.output(
  File "/home/user/workspace/mcp_agent/sparkleforge/src/utils/output_manager.py", line 231, in output
    print(formatted_message, flush=True)
BrokenPipeError: [Errno 32] Broken pipe

2025-12-22 17:07:23,649 [ERROR] asyncio: Task exception was never retrieved
future: <Task finished name='Task-2714' coro=<ProcessManager._handle_shutdown() done, defined at /home/user/workspace/mcp_agent/sparkleforge/src/core/process_manager.py:250> exception=SystemExit(143)>
Traceback (most recent call last):
  File "/home/user/workspace/mcp_agent/test_mcp_tool_call.py", line 481, in <module>
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/asyncio/base_events.py", line 678, in run_until_complete
    self.run_forever()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/asyncio/base_events.py", line 645, in run_forever
    self._run_once()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/asyncio/base_events.py", line 1999, in _run_once
    handle._run()
  File "/home/user/miniconda3/envs/mcp/lib/python3.12/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "/home/user/workspace/mcp_agent/sparkleforge/src/core/process_manager.py", line 276, in _handle_shutdown
    sys.exit(exit_code)
SystemExit: 143
